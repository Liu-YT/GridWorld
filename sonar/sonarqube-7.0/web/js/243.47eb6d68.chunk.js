webpackJsonp([243],{1893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=(n.n(r),n(2398)),i=n(2399),o=n(2402),s=n(2403),c=n(2404),l=n(2405),u=n(2406),p=n(2407),m=n(2408),d=n(589),f=n(51),h=n(2),g=n(2409),b=(n.n(g),this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),y=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0},t.isEmpty=function(){return void 0===t.state.measures||void 0===t.state.measures.ncloc},t.isNotComputed=function(){return t.state.measures&&void 0===t.state.measures.reliability_rating},t}return b(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchData()},t.prototype.componentDidUpdate=function(e){e.component!==this.props.component&&this.fetchData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchData=function(){var e=this;this.setState({loading:!0}),Promise.all([Object(d.a)(this.props.component.key,m.a),Object(f.h)(this.props.component.key,m.b,{ps:20,s:"qualifier"})]).then(function(t){var n=t[0],r=t[1];e.mounted&&e.setState({loading:!1,measures:Object(m.c)(n),subComponents:r.components.map(function(e){return y({},e,{measures:Object(m.c)(e.measures)})}),totalSubComponents:r.paging.total})},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.renderSpinner=function(){return r.createElement("div",{className:"page page-limited"},r.createElement("div",{className:"text-center"},r.createElement("i",{className:"spinner spinner-margin"})))},t.prototype.renderEmpty=function(){return r.createElement("div",{className:"empty-search"},r.createElement("h3",null,Object(h.translate)("portfolio.empty")),r.createElement("p",null,Object(h.translate)("portfolio.empty.hint")))},t.prototype.renderWhenNotComputed=function(){return r.createElement("div",{className:"empty-search"},r.createElement("h3",null,Object(h.translate)("portfolio.not_computed")))},t.prototype.renderMain=function(){var e=this.props.component,t=this.state,n=t.measures,a=t.subComponents,i=t.totalSubComponents;return this.isEmpty()?this.renderEmpty():this.isNotComputed()?this.renderWhenNotComputed():r.createElement("div",null,r.createElement("div",{className:"portfolio-boxes"},r.createElement(s.a,{component:e.key,measures:n}),r.createElement(c.a,{component:e.key,measures:n}),r.createElement(l.a,{component:e.key,measures:n}),r.createElement(u.a,{component:e.key,measures:n})),void 0!==a&&void 0!==i&&r.createElement(o.a,{component:e.key,subComponents:a,total:i}))},t.prototype.render=function(){var e=this.props.component,t=this.state,n=t.loading,o=t.measures;return n?this.renderSpinner():r.createElement("div",{className:"page page-limited"},r.createElement("div",{className:"page-with-sidebar"},r.createElement("div",{className:"page-main"},this.renderMain()),r.createElement("aside",{className:"page-sidebar-fixed"},!this.isEmpty()&&!this.isNotComputed()&&r.createElement(a.a,{component:e,measures:o}),r.createElement(p.a,{component:e.key}),r.createElement(i.a,{component:e}))))},t}(r.PureComponent);t.default=v},1907:function(e,t,n){"use strict";function r(e){var t=e.className,n=e.muted,r=void 0!==n&&n,s=e.small,c=void 0!==s&&s,l=e.value;if(void 0===l)return a.createElement("span",null,"–");var u=Object(o.formatMeasure)(l,"RATING");return a.createElement("span",{className:i("rating","rating-"+u,{"rating-small":c,"rating-muted":r},t)},u)}t.a=r;var a=n(0),i=(n.n(a),n(8)),o=(n.n(i),n(44)),s=n(584);n.n(s)},1912:function(e,t,n){"use strict";function r(e){var t=e.className,n=e.decimals,r=e.measure;if(void 0===r)return a.createElement("span",null,"–");var u=r.metric,p=Object(c.isDiffMetric)(u.key)?r.leak:r.value;if(void 0===p)return a.createElement("span",null,"–");if("LEVEL"===u.type)return a.createElement(o.a,{className:t,level:p});if("RATING"!==u.type){var m=Object(c.isDiffMetric)(u.key)?Object(l.b)(r.leak,u.key,u.type,{decimals:n}):Object(c.formatMeasure)(r.value,u.type,{decimals:n});return a.createElement("span",{className:t},null!=m?m:"–")}var d=Object(l.c)(u.key,Number(p)),f=a.createElement(i.a,{value:p});return d?a.createElement(s.a,{overlay:d},a.createElement("span",{className:t},f)):f}t.a=r;var a=n(0),i=(n.n(a),n(1907)),o=n(580),s=n(23),c=n(44),l=n(1916)},1913:function(e,t,n){"use strict";function r(e,t){return e.graph!==t.graph}function a(e,t,n,r){return r.length<=0?[]:Object(l.sortBy)(e.filter(function(e){return r.indexOf(e.metric)>=0}).map(function(r){if("uncovered_lines"===r.metric&&!N(t))return S(r,e);var a=n.find(function(e){return e.key===r.metric});return{data:r.history.map(function(e){return{x:e.date,y:a&&"LEVEL"===a.type?e.value:Number(e.value)}}),name:r.metric,translatedName:a?Object(m.getLocalizedMetricName)(a):r.metric,type:a?a.type:"INT"}}),function(e){return r.indexOf("covered_lines"===e.name?"uncovered_lines":e.name)})}function i(e,t){return e.reduce(function(e,n){var r=e[e.length-1],a=n.events.find(function(e){return"VERSION"===e.category});if(a){var i={version:a.name,key:a.key,byDay:{}};!r||Object.keys(r.byDay).length>0?e.push(i):e[e.length-1]=i,r=i}else r||(r={version:null,key:null,byDay:{}},e.push(r));var o=Object(p.startOfDay)(Object(p.parseDate)(n.date)).getTime().toString(),s=!0;if(t.category||t.from||t.to){var c=!t.from||n.date>=t.from,l=!t.to||n.date<=t.to,u=!t.category||null!=n.events.find(function(e){return e.category===t.category});s=c&&l&&u}return s&&(r.byDay[o]||(r.byDay[o]=[]),r.byDay[o].push(n)),e},[])}function o(e){return{category:Object(u.f)(e.category),customMetrics:Object(u.b)(e.custom_metrics,u.f),from:Object(u.d)(e.from),graph:D(e.graph),project:Object(u.f)(e.id),to:Object(u.d)(e.to),selectedDate:Object(u.d)(e.selected_date)}}function s(e){return Object(u.a)({category:Object(u.i)(e.category),from:Object(u.h)(e.from),project:Object(u.i)(e.project),to:Object(u.h)(e.to)})}function c(e){return Object(u.a)({category:Object(u.i)(e.category),custom_metrics:Object(u.j)(e.customMetrics),from:Object(u.h)(e.from),graph:R(e.graph),id:Object(u.i)(e.project),to:Object(u.h)(e.to),selected_date:Object(u.h)(e.selectedDate)})}n.d(t,"c",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"m",function(){return O}),n.d(t,"n",function(){return j}),n.d(t,"o",function(){return x}),t.p=r,n.d(t,"q",function(){return N}),n.d(t,"s",function(){return w}),t.h=a,n.d(t,"v",function(){return k}),n.d(t,"l",function(){return T}),t.i=i,n.d(t,"j",function(){return P}),n.d(t,"k",function(){return z}),t.r=o,t.t=s,t.u=c;var l=n(5),u=(n.n(l),n(582)),p=n(45),m=n(2),d=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],f=["QUALITY_GATE","OTHER"],h="issues",g=["issues","coverage","duplications","custom"],b={issues:["bugs","code_smells","vulnerabilities"],coverage:["lines_to_cover","uncovered_lines"],duplications:["ncloc","duplicated_lines"]},y={issues:b.issues.concat(["reliability_rating","security_rating","sqale_rating"]),coverage:b.coverage.concat(["coverage"]),duplications:b.duplications.concat(["duplicated_lines_density"])},v=function(e,t){return!Object(l.isEqual)(e.from,t.from)||!Object(l.isEqual)(e.to,t.to)},_=function(e,t){return e.category!==t.category||v(e,t)},E=function(e,t){return!Object(l.isEqual)(e.customMetrics,t.customMetrics)},O=function(e){return e.data.some(function(e){return e.y||0===e.y})},j=function(e){return e.some(function(e){return e.data&&e.data.length>1})},x=function(e){return e.some(function(e){return e.data&&e.data.length>1&&O(e)})},N=function(e){return"custom"===e},w=function(e,t){return!Object(l.isEqual)(e.selectedDate,t.selectedDate)},S=function(e,t){var n=t.find(function(e){return"lines_to_cover"===e.metric});return{data:n?e.history.map(function(e,t){return{x:e.date,y:Number(n.history[t].value)-Number(e.value)}}):[],name:"covered_lines",translatedName:Object(m.translate)("project_activity.custom_metric.covered_lines"),type:"INT"}},k=function(e,t,n){return Object(l.flatMap)(Object(l.groupBy)(e,function(e){return e.type}),function(e){return Object(l.chunk)(e,n)}).slice(0,t)},T=function(e){return e.length>0?e[0].type:"INT"},P=function(e,t){return N(e)?t:b[e]},z=function(e,t){return N(e)?t:y[e]},D=function(e){var t=Object(u.f)(e);return g.includes(t)?t:h},R=function(e){return e===h?void 0:e}},1916:function(e,t,n){"use strict";function r(e,t){return{value:e.value,periods:e.periods,metric:t[e.metric],leak:i(e)}}function a(e,t,n,r){return Object(s.isDiffMetric)(t)?Object(s.formatMeasure)(e,n,r):Object(s.formatMeasureVariation)(e,n,r)}function i(e){if(e&&e.periods){var t=e.periods.find(function(e){return 1===e.index});return t&&t.value}}function o(e,t){var n=Object(s.isDiffMetric)(e)?e.substr(4):e;if(c.includes(n))return Object(s.getRatingTooltip)(n,t)}t.a=r,t.b=a,t.c=o;var s=n(44),c=["sqale_rating","reliability_rating","security_rating"]},1917:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1919);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(a).default}}),Object.defineProperty(t,"AutoSizer",{enumerable:!0,get:function(){return r(a).default}})},1919:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),u=n(1920),p=r(u),m=(n(1921).babelPluginFlowReactPropTypes_proptype_Size||n(6).any,function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,a=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,o=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,m=i-u-p,d=o-c-l;(!t&&r.state.height!==m||!n&&r.state.width!==d)&&(r.setState({height:i-u-p,width:o-c-l}),a({height:i,width:o}))}},r._setRef=function(e){r._autoSizer=e},o=n,i(r,o)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode instanceof HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=(0,p.default)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disableHeight,r=e.disableWidth,a=this.state,i=a.height,o=a.width,s={overflow:"visible"},c={};return n||(s.height=0,c.height=i),r||(s.width=0,c.width=o),l.default.createElement("div",{ref:this._setRef,style:s},t(c))}}]),t}(l.default.PureComponent));m.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1},m.propTypes={children:n(6).func.isRequired,defaultHeight:n(6).number,defaultWidth:n(6).number,disableHeight:n(6).bool.isRequired,disableWidth:n(6).bool.isRequired,nonce:n(6).string,onResize:n(6).func.isRequired},t.default=m},1920:function(e,t,n){"use strict";function r(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var n="undefined"!=typeof document&&document.attachEvent;if(!n){var r=function(){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)};return function(t){return e(t)}}(),a=function(){var e=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(t){return e(t)}}(),i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},s=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=r(function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},c=!1,l="",u="animationstart",p="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="",f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(c=!0),!1===c)for(var h=0;h<p.length;h++)if(void 0!==f.style[p[h]+"AnimationName"]){d=p[h],l="-"+d.toLowerCase()+"-",u=m[h],c=!0;break}var g="resizeanim",b="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",y=l+"animation: 1ms "+g+"; "}var v=function(){if(!document.getElementById("detectElementResize")){var t=(b||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),n.appendChild(r)}};return{addResizeListener:function(e,r){if(n)e.attachEvent("onresize",r);else{if(!e.__resizeTriggers__){var a=t.getComputedStyle(e);a&&"static"==a.position&&(e.style.position="relative"),v(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",s,!0),u&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==g&&i(e)},e.__resizeTriggers__.addEventListener(u,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(n)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},1921:function(e,t,n){"use strict";Object.defineProperty(t,"babelPluginFlowReactPropTypes_proptype_Size",{value:{height:n(6).number.isRequired,width:n(6).number.isRequired},configurable:!0})},1941:function(e,t,n){"use strict";var r=n(9),a=n(10),i=n(1942),o=function(e){return{languages:Object(a.getLanguages)(e)}};t.a=Object(r.connect)(o)(i.a)},1942:function(e,t,n){"use strict";function r(e){function t(t){if("<null>"===t)return Object(l.translate)("unknown");var n=Object(o.find)(e.languages,{key:t});return n?n.name:t}var n=e.distribution.split(";").map(function(e){var t=e.split("=");return{language:t[0],lines:parseInt(t[1],10)}});n=Object(o.sortBy)(n,function(e){return-e.lines});var r=n.map(function(e){return e.lines}),u=n.map(function(e){return t(e.language)}).map(a),p=n.map(function(e){return e.lines>1e3?Object(c.formatMeasure)(e.lines,"INT"):""}),m=n.map(function(e){return Object(c.formatMeasure)(e.lines,"SHORT_INT")});return i.createElement(s.a,{alignTicks:e.alignTicks,bars:r,height:25*n.length,padding:[0,60,0,80],yTicks:u,yTooltips:p,yValues:m,width:e.width})}function a(e){return e.length>10?e.substr(0,7)+"...":e}t.a=r;var i=n(0),o=(n.n(i),n(5)),s=(n.n(o),n(1943)),c=n(44),l=n(2)},1943:function(e,t,n){"use strict";var r=n(0),a=(n.n(r),n(53)),i=n(579),o=n(23),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=[10,10,10,10],l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.wrapWithTooltip=function(e,t){var n=this.props.yTooltips&&this.props.yTooltips[t];return n?r.createElement(o.a,{key:t,overlay:n,placement:"top"},e):e},t.prototype.renderBar=function(e,t,n,a){var i=this.props,o=i.alignTicks,s=i.padding,l=void 0===s?c:s,u=Math.round(n(e))+1,p=n.range()[0]+(o?l[3]:0),m=Math.round(a(t)+a.bandwidth()/2);return r.createElement("rect",{className:"bar-chart-bar",x:p,y:m,width:u,height:10})},t.prototype.renderValue=function(e,t,n,a){var i=this.props,o=i.alignTicks,s=i.padding,l=void 0===s?c:s,u=i.yValues,p=u&&u[t];if(!p)return null;var m=n(e)+(o?l[3]:0),d=Math.round(a(t)+a.bandwidth()/2+5);return this.wrapWithTooltip(r.createElement("text",{className:"bar-chart-tick histogram-value",x:m,y:d,dx:"1em",dy:"0.3em"},p),t)},t.prototype.renderTick=function(e,t,n){var a=this.props,i=a.alignTicks,o=a.yTicks,s=o&&o[e];if(!s)return null;var c=t.range()[0],l=Math.round(n(e)+n.bandwidth()/2+5),u=i?"histogram-tick-start":"histogram-tick";return r.createElement("text",{className:"bar-chart-tick "+u,x:c,y:l,dx:i?0:"-1em",dy:"0.3em"},s)},t.prototype.renderBars=function(e,t){var n=this;return r.createElement("g",null,this.props.bars.map(function(a,i){return r.createElement("g",{key:i},n.renderBar(a,i,e,t),n.renderValue(a,i,e,t),n.renderTick(i,e,t))}))},t.prototype.render=function(){var e=this.props,t=e.bars,n=e.width,o=e.height,s=e.padding,l=void 0===s?c:s,u=n-l[1]-l[3],p=Object(i.scaleLinear)().domain([0,Object(a.max)(t)]).range([0,u]),m=o-l[0]-l[2],d=Object(i.scaleBand)().domain(t.map(function(e,t){return t})).rangeRound([0,m]);return r.createElement("svg",{className:"bar-chart",width:this.props.width,height:this.props.height},r.createElement("g",{transform:"translate("+(this.props.alignTicks?4:l[3])+", "+l[0]+")"},this.renderBars(p,d)))},t}(r.PureComponent);t.a=l},1949:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(8),l=n.n(c),u=n(5),p=(n.n(u),n(53)),m=n(579),d=n(220),f=n(20),h=(n.n(f),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=s.a.createElement("div",null),y=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n);var i=n.getScales(e),o=n.getSelectedDatePos(i.xScale,e.selectedDate);return n.state=Object.assign({},i,o),n.updateTooltipPos=Object(u.throttle)(n.updateTooltipPos,40),n.handleZoomUpdate=Object(u.throttle)(n.handleZoomUpdate,40),n}return i(t,e),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=void 0,n=void 0;if(e.metricType===this.props.metricType&&e.startDate===this.props.startDate&&e.endDate===this.props.endDate&&e.width===this.props.width&&e.padding===this.props.padding&&e.height===this.props.height&&e.series===this.props.series||(t=this.getScales(e),null!=this.state.selectedDate&&(n=this.getSelectedDatePos(t.xScale,this.state.selectedDate))),!Object(u.isEqual)(e.selectedDate,this.props.selectedDate)){var r=t?t.xScale:this.state.xScale;n=this.getSelectedDatePos(r,e.selectedDate)}(t||n)&&(this.setState(Object.assign({},t||{},n||{})),n&&e.updateTooltip&&e.updateTooltip(n.selectedDate,n.selectedDateXPos,n.selectedDateIdx))}},{key:"render",value:function(){if(!this.props.width||!this.props.height)return b;var e=!this.props.disableZoom&&null!=this.props.updateZoom,t=this.props.startDate||this.props.endDate;return s.a.createElement("svg",{className:l()("line-chart",{"chart-zoomed":t}),width:this.props.width,height:this.props.height},e&&this.renderClipPath(),s.a.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},null!=this.props.leakPeriodDate&&this.renderLeak(),!this.props.hideGrid&&this.renderHorizontalGrid(),!this.props.hideXAxis&&this.renderXAxisTicks(),this.props.showAreas&&this.renderAreas(),this.renderLines(),this.props.showEventMarkers&&this.renderEvents(),this.renderSelectedDate(),this.renderMouseEventsOverlay(e)))}}]),t}(s.a.PureComponent);y.defaultProps={eventSize:8,maxYTicksCount:4,padding:[10,10,30,60],zoomSpeed:1};var v=function(){var e=this;this.getRatingScale=function(e){return Object(m.scalePoint)().domain([5,4,3,2,1]).range([e,0])},this.getLevelScale=function(e){return Object(m.scalePoint)().domain(["ERROR","WARN","OK"]).range([e,0])},this.getYScale=function(t,n,r){return"RATING"===t.metricType?e.getRatingScale(n):"LEVEL"===t.metricType?e.getLevelScale(n):Object(m.scaleLinear)().range([n,0]).domain([0,Object(p.max)(r,function(e){return e.y})||1]).nice()},this.getXScale=function(e,t,n){var r=e.startDate,a=e.endDate,i=Object(p.extent)(n,function(e){return e.x}),o=r&&r>i[0]?r:i[0],s=a&&a<i[1]?a:i[1],c=Object(m.scaleTime)().domain(Object(u.sortBy)([o,s])).range([0,t]).clamp(!1);return{xScale:c,maxXRange:i.map(c)}},this.getScales=function(t){var n=t.width-t.padding[1]-t.padding[3],r=t.height-t.padding[0]-t.padding[2],a=Object(u.flatten)(t.series.map(function(e){return e.data}));return Object.assign({},e.getXScale(t,n,a),{yScale:e.getYScale(t,r,a)})},this.getSelectedDatePos=function(t,n){var r=e.props.series[0];if(n&&r){var a=r.data.findIndex(function(e){return e.x.valueOf()===n.valueOf()}),i=t.range().sort(),o=t(n);if(a>=0&&o>=i[0]&&o<=i[1])return{selectedDate:n,selectedDateXPos:t(n),selectedDateIdx:a}}return{selectedDate:null,selectedDateXPos:null,selectedDateIdx:null}},this.getEventMarker=function(e){var t=e/2;return"M"+t+" 0 L"+e+" "+t+" L "+t+" "+e+" L0 "+t+" L"+t+" 0 L"+e+" "+t},this.getMouseOverlayPos=function(t){if(e.state.mouseOverlayPos)return e.state.mouseOverlayPos;var n=t.getBoundingClientRect();return e.setState({mouseOverlayPos:n}),n},this.handleWheel=function(t){t.preventDefault();var n=e.state,r=n.maxXRange,a=n.xScale,i=e.getMouseOverlayPos(t.target),o=(t.pageX-i.left)/i.width,s=a.range(),c=t.deltaMode?25/t.deltaMode*e.props.zoomSpeed:e.props.zoomSpeed,l=s[0]-Math.round(c*t.deltaY*o),u=s[1]+Math.round(c*t.deltaY*(1-o)),p=l>r[0]?a.invert(l):null,m=u<r[1]?a.invert(u):null;e.handleZoomUpdate(p,m)},this.handleZoomUpdate=function(t,n){e.props.updateZoom&&e.props.updateZoom(t,n)},this.handleMouseMove=function(t){var n=e.getMouseOverlayPos(t.target);e.updateTooltipPos(t.pageX-n.left)},this.handleMouseEnter=function(){return e.setState({mouseOver:!0})},this.handleMouseOut=function(t){var n=e.props.updateTooltip,r=t.relatedTarget&&"string"==typeof t.relatedTarget.className?t.relatedTarget.className:"";!n||r.includes("bubble-popup")||r.includes("graph-tooltip")||(e.setState({mouseOver:!1,selectedDate:null,selectedDateXPos:null,selectedDateIdx:null}),n(null,null,null))},this.handleClick=function(){var t=e.props.updateSelectedDate;t&&t(e.state.selectedDate)},this.updateTooltipPos=function(t){var n=e.props.series[0];if(e.state.mouseOver&&n){var r=e.props.updateTooltip,a=e.state.xScale.invert(t),i=Object(p.bisector)(function(e){return e.x}).right,o=i(n.data,a);if(o>=0){var s=n.data[o-1],c=n.data[o];(!c||s&&a-s.x<=c.x-a)&&o--;var l=n.data[o].x,u=e.state.xScale(l);e.setState({selectedDate:l,selectedDateXPos:u,selectedDateIdx:o}),r&&r(l,u,o)}}},this.renderHorizontalGrid=function(){var t=e.props.formatYTick,n=e.state,r=n.xScale,a=n.yScale,i="function"==typeof a.ticks,o=i?a.ticks(e.props.maxYTicksCount):a.domain();if(o.length||o.push(a.domain()[1]),t){var c=o.map(function(e){return t(e)});o.length>Object(u.uniq)(c).length&&(o=a.domain())}return s.a.createElement("g",null,o.map(function(e){return s.a.createElement("g",{key:e},null!=t&&s.a.createElement("text",{className:"line-chart-tick line-chart-tick-x",dx:"-1em",dy:"0.3em",textAnchor:"end",x:r.range()[0],y:a(e)},t(e)),s.a.createElement("line",{className:"line-chart-grid",x1:r.range()[0],x2:r.range()[1],y1:a(e),y2:a(e)}))}))},this.renderXAxisTicks=function(){var t=e.state,n=t.xScale,r=t.yScale,a=n.tickFormat(7),i=n.ticks(7),o=r.range()[0];return s.a.createElement("g",null,i.slice(0,-1).map(function(e,t){var r=t+1<i.length?i[t+1]:n.domain()[1],c=(n(e)+n(r))/2;return s.a.createElement("text",{key:t,className:"line-chart-tick",x:c,y:o,dy:"1.5em"},a(e))}))},this.renderLeak=function(){var t=e.state.yScale.range(),n=e.state.xScale.range(),r=n[n.length-1]-e.state.xScale(e.props.leakPeriodDate);return r<0?null:s.a.createElement("rect",{className:"leak-chart-rect",x:e.state.xScale(e.props.leakPeriodDate),y:t[t.length-1],width:r,height:t[0]-t[t.length-1],fill:f.leakColor})},this.renderLines=function(){var t=Object(d.line)().defined(function(e){return e.y||0===e.y}).x(function(t){return e.state.xScale(t.x)}).y(function(t){return e.state.yScale(t.y)});return e.props.basisCurve&&t.curve(d.curveBasis),s.a.createElement("g",null,e.props.series.map(function(e,n){return s.a.createElement("path",{key:e.name,className:l()("line-chart-path","line-chart-path-"+n),d:t(e.data)})}))},this.renderAreas=function(){var t=Object(d.area)().defined(function(e){return e.y||0===e.y}).x(function(t){return e.state.xScale(t.x)}).y1(function(t){return e.state.yScale(t.y)}).y0(e.state.yScale(0));return e.props.basisCurve&&t.curve(d.curveBasis),s.a.createElement("g",null,e.props.series.map(function(e,n){return s.a.createElement("path",{key:e.name,className:l()("line-chart-area","line-chart-area-"+n),d:t(e.data)})}))},this.renderEvents=function(){var t=e.props,n=t.events,r=t.eventSize;if(!n||!r)return null;var a=e.state,i=a.xScale,o=a.yScale,c=n.filter(function(e){return e.date>=i.domain()[0]&&e.date<=i.domain()[1]}),u=r/2;return s.a.createElement("g",null,c.map(function(t,n){return s.a.createElement("path",{d:e.getEventMarker(r),className:l()("line-chart-event",t.className),key:n+"-"+t.date.getTime(),transform:"translate("+(i(t.date)-u)+", "+(o.range()[0]+u)+")"})}))},this.renderSelectedDate=function(){var t=e.state,n=t.selectedDateIdx,r=t.selectedDateXPos,a=t.yScale,i=e.props.series[0];return null!=n&&null!=r&&i?s.a.createElement("g",null,s.a.createElement("line",{className:"line-tooltip",x1:r,x2:r,y1:a.range()[0],y2:a.range()[1]}),e.props.series.map(function(e,t){var i=e.data[n];return!i||!i.y&&0!==i.y?null:s.a.createElement("circle",{key:e.name,cx:r,cy:a(i.y),r:"4",className:l()("line-chart-dot","line-chart-dot-"+t)})})):null},this.renderClipPath=function(){return s.a.createElement("defs",null,s.a.createElement("clipPath",{id:"chart-clip"},s.a.createElement("rect",{width:e.state.xScale.range()[1],height:e.state.yScale.range()[0]+10,transform:"translate(0,-5)"})))},this.renderMouseEventsOverlay=function(t){var n={};return t&&(n.onWheel=e.handleWheel),e.props.updateTooltip&&(n.onMouseEnter=e.handleMouseEnter,n.onMouseMove=e.handleMouseMove,n.onMouseOut=e.handleMouseOut),e.props.updateSelectedDate&&(n.onClick=e.handleClick),s.a.createElement("rect",h({className:"chart-mouse-events-overlay",width:e.state.xScale.range()[1],height:e.state.yScale.range()[0]},n))}};t.a=y},1950:function(e,t,n){"use strict";function r(e,t,n){return Object(i.getJSON)("/api/measures/search_history",o({component:e,metrics:t.join(),ps:1e3},n))}function a(e,t,n,i){return r(e,t,o({},n,{ps:1e3})).then(function(r){var s=i?{measures:i.measures.map(function(e,t){return o({},e,{history:e.history.concat(r.measures[t].history)})}),paging:r.paging}:r;return s.paging.pageIndex*s.paging.pageSize>=s.paging.total?s:a(e,t,o({},n,{p:s.paging.pageIndex+1}),s)})}t.a=a;var i=n(14),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}},1967:function(e,t,n){"use strict";function r(e){var t=e.lastChange;if(!t)return a.createElement("div",{className:"portfolio-freshness"}," ");var n=JSON.parse(t);return a.createElement("div",{className:"portfolio-freshness"},a.createElement(i.b,{defaultMessage:Object(c.translate)("portfolio.was_x_y"),id:"portfolio.was_x_y",values:{rating:a.createElement(s.a,{value:n.value,small:!0}),date:a.createElement(o.a,{date:n.date})}}))}t.a=r;var a=n(0),i=(n.n(a),n(52)),o=n(216),s=n(1907),c=n(2)},1989:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(5),l=(n.n(c),n(6)),u=(n.n(l),n(1917)),p=n.n(u),m=n(1949),d=n(1990),f=n(1913),h=n(328),g=n(44),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=[4,0,4,0],v=1,_=3,E=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));O.call(n);var i=Object(h.b)(),o=Object(h.a)(),s=Object(f.v)(n.getSeries(e.history,i,o,e.metrics),v,_);return n.state={customMetrics:o,graph:i,selectedDate:null,series:s.length>0?s[0]:[],tooltipIdx:null,tooltipXPos:null},n}return i(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){if(e.history!==this.props.history||e.metrics!==this.props.metrics){var t=Object(h.b)(),n=Object(h.a)(),r=Object(f.v)(this.getSeries(e.history,t,n,e.metrics),v,_);this.setState({customMetrics:n,graph:t,series:r.length>0?r[0]:[]})}}},{key:"renderTimeline",value:function(){var e=this,t=this.state,n=t.graph,r=t.selectedDate,a=t.series,i=t.tooltipIdx,o=t.tooltipXPos;return s.a.createElement(p.a,{disableHeight:!0},function(t){var c=t.width;return s.a.createElement("div",null,s.a.createElement(m.a,{endDate:null,startDate:null,height:80,width:c,hideGrid:!0,hideXAxis:!0,interpolate:"linear",metricType:Object(f.l)(a),padding:y,series:a,showAreas:["coverage","duplications"].includes(n),updateTooltip:e.updateTooltip}),null!=r&&null!=o&&null!=i&&s.a.createElement(d.a,{formatValue:e.formatValue,graph:n,graphWidth:c,metrics:e.props.metrics,selectedDate:r,series:a,tooltipIdx:i,tooltipPos:o}))})}},{key:"render",value:function(){var e=this.state.series;return Object(f.o)(e)?s.a.createElement("div",{className:"overview-analysis-graph big-spacer-bottom spacer-top",onClick:this.handleClick,tabIndex:0,role:"link"},this.renderTimeline()):this.props.renderWhenEmpty?this.props.renderWhenEmpty():null}}]),t}(s.a.PureComponent);E.contextTypes={router:l.object};var O=function(){var e=this;this.formatValue=function(t){return Object(g.formatMeasure)(t,Object(g.getShortType)(Object(f.l)(e.state.series)))},this.getDisplayedMetrics=function(e,t){var n=Object(f.j)(e,t);return!n||n.length<=0?Object(f.j)(f.b,t):n},this.getSeries=function(t,n,r,a){var i=t;if(!i)return[];var o=e.getDisplayedMetrics(n,r),s=Object(c.minBy)(o.map(function(e){return i[e].find(function(e){return e.value||0===e.value})}),"date"),l=o.map(function(e){return{metric:e,history:s?i[e].filter(function(e){return e.date>=s.date}):i[e]}});return Object(f.h)(l,n,a,o)},this.handleClick=function(){e.context.router.push({pathname:"/project/activity",query:{id:e.props.project,branch:e.props.branch}})},this.updateTooltip=function(t,n,r){return e.setState({selectedDate:t,tooltipXPos:n,tooltipIdx:r})}};t.a=E},1990:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(59),l=n(324),u=n(1991),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){var e=this,t=this.props.tooltipIdx,n=this.props.tooltipPos,r=void 0;return n>this.props.graphWidth-160&&(n-=160,r="bubble-popup-right"),s.a.createElement(c.a,{customClass:r,position:{top:16,left:n,width:160}},s.a.createElement("div",{className:"overview-analysis-graph-tooltip"},s.a.createElement("div",{className:"overview-analysis-graph-tooltip-title"},s.a.createElement(l.a,{date:this.props.selectedDate,long:!0})),s.a.createElement("table",{className:"width-100"},s.a.createElement("tbody",null,this.props.series.map(function(n,r){var a=n.data[t];return!a||!a.y&&0!==a.y?null:s.a.createElement(u.a,{key:n.name,style:r.toString(),translatedName:n.translatedName,value:e.props.formatValue(a.y)})})))))}}]),t}(s.a.PureComponent);t.a=m},1991:function(e,t,n){"use strict";function r(e){var t=e.style,n=e.translatedName,r=e.value;return i.a.createElement("tr",{className:"overview-analysis-graph-tooltip-line"},i.a.createElement("td",{className:"thin"},i.a.createElement(o.a,{className:"little-spacer-right line-chart-legend line-chart-legend-"+t})),i.a.createElement("td",{className:"overview-analysis-graph-tooltip-value text-right little-spacer-right thin"},r),i.a.createElement("td",{className:"text-ellipsis overview-analysis-graph-tooltip-description"},n))}t.a=r;var a=n(0),i=n.n(a),o=n(586)},1998:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.effort,r=e.metricKey;return a.createElement("div",{className:"portfolio-effort"},a.createElement(o.b,{defaultMessage:Object(l.translate)("portfolio.x_in_y"),id:"portfolio.x_in_y",values:{projects:a.createElement(i.Link,{to:Object(u.d)(t,r)},a.createElement("span",null,a.createElement(c.a,{measure:{metric:{key:"projects",type:"SHORT_INT"},value:String(n.projects)}})," ",Object(l.translate)("projects_"))),rating:a.createElement(s.a,{small:!0,value:n.rating})}}))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(52),s=n(1907),c=n(1912),l=n(2),u=n(26)},1999:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.metric;return a.createElement(i.Link,{className:"button button-small spacer-left text-text-bottom",to:Object(s.d)(t,n)},a.createElement(o.a,{size:14}))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(585),s=n(26)},2e3:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.metric;return a.createElement(i.Link,{className:"button button-small spacer-left text-text-bottom",to:Object(s.k)(t,n)},a.createElement(o.HistoryIcon,{size:14}))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(345),s=n(26)},2001:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.metric,r=e.value;return a.createElement(i.Link,{to:Object(s.l)(t,n),className:"portfolio-box-rating"},a.createElement(o.a,{value:r}))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(1907),s=n(26)},2040:function(e,t,n){"use strict";function r(e){return Object(s.getJSON)("/api/governance_reports/status",{componentKey:e}).catch(c.a)}function a(e){return window.baseUrl+"/api/governance_reports/download?componentKey="+encodeURIComponent(e)}function i(e){return Object(s.post)("/api/governance_reports/subscribe",{componentKey:e}).catch(c.a)}function o(e){return Object(s.post)("/api/governance_reports/unsubscribe",{componentKey:e}).catch(c.a)}t.a=r,t.b=a,t.c=i,t.d=o;var s=n(14),c=n(31)},2398:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.measures,r=n.projects,u=n.ncloc,p=n.ncloc_language_distribution;return a.createElement("section",{id:"portfolio-summary",className:"big-spacer-bottom"},t.description&&a.createElement("div",{className:"big-spacer-bottom"},t.description),a.createElement("ul",{className:"portfolio-grid"},a.createElement("li",null,a.createElement("div",{className:"portfolio-measure-secondary-value"},a.createElement(i.Link,{to:Object(l.d)(t.key,"projects")},a.createElement(s.a,{measure:{metric:{key:"projects",type:"SHORT_INT"},value:r}}))),a.createElement("div",{className:"spacer-top text-muted"},Object(c.translate)("projects"))),a.createElement("li",null,a.createElement("div",{className:"portfolio-measure-secondary-value"},a.createElement(i.Link,{to:Object(l.d)(t.key,"ncloc")},a.createElement(s.a,{measure:{metric:{key:"ncloc",type:"SHORT_INT"},value:u}}))),a.createElement("div",{className:"spacer-top text-muted"},Object(c.translate)("metric.ncloc.name")))),p&&a.createElement("div",{className:"big-spacer-top"},a.createElement(o.a,{distribution:p,width:260})))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(1941),s=n(1912),c=n(2),l=n(26)},2399:function(e,t,n){"use strict";var r=n(0),a=(n.n(r),n(2400)),i=n(2040),o=n(2),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0},t.renderHeader=function(){return r.createElement("h4",null,Object(o.translate)("report.page"))},t}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadStatus()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadStatus=function(){var e=this;Object(i.a)(this.props.component.key).then(function(t){e.mounted&&e.setState({status:t,loading:!1})},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this.props.component,t=this.state,n=t.status;return t.loading?r.createElement("div",null,this.renderHeader(),r.createElement("i",{className:"spinner"})):n?r.createElement("div",null,this.renderHeader(),!n.canDownload&&r.createElement("div",{className:"note js-report-cant-download"},Object(o.translate)("report.cant_download")),n.canDownload&&r.createElement("div",{className:"js-report-can-download"},Object(o.translate)("report.can_download"),r.createElement("div",{className:"spacer-top"},r.createElement("a",{className:"button js-report-download",href:Object(i.b)(e.key),target:"_blank",download:e.name+" - Executive Report.pdf"},Object(o.translate)("report.print")))),n.canSubscribe&&r.createElement(a.a,{component:e.key,status:n})):null},t}(r.PureComponent);t.a=c},2400:function(e,t,n){"use strict";var r=n(9),a=n(2401),i=n(10),o=function(e){return{currentUser:Object(i.getCurrentUser)(e)}};t.a=Object(r.connect)(o)(a.a)},2401:function(e,t,n){"use strict";var r=n(0),a=(n.n(r),n(2040)),i=n(2),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e){function t(t){var n=e.call(this,t)||this;return n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.handleSubscription=function(e){n.mounted&&n.setState({loading:!1,subscribed:e})},n.handleSubscribe=function(e){e.preventDefault(),e.currentTarget.blur(),n.setState({loading:!0}),Object(a.c)(n.props.component).then(function(){return n.handleSubscription(!0)}).catch(n.stopLoading)},n.handleUnsubscribe=function(e){e.preventDefault(),e.currentTarget.blur(),n.setState({loading:!0}),Object(a.d)(n.props.component).then(function(){return n.handleSubscription(!1)}).catch(n.stopLoading)},n.getEffectiveFrequencyText=function(){var e=n.props.status.componentFrequency||n.props.status.globalFrequency;return Object(i.translate)("report.frequency",e,"effective")},n.renderLoading=function(){return n.state.loading&&r.createElement("i",{className:"spacer-left spinner"})},n.renderWhenSubscribed=function(){return r.createElement("div",{className:"js-subscribed"},r.createElement("div",{className:"spacer-bottom"},r.createElement("i",{className:"icon-check pull-left spacer-right"}),r.createElement("div",{className:"overflow-hidden"},Object(i.translateWithParameters)("report.subscribed",n.getEffectiveFrequencyText()))),r.createElement("button",{onClick:n.handleUnsubscribe},Object(i.translate)("report.unsubscribe")),n.renderLoading())},n.renderWhenNotSubscribed=function(){return r.createElement("div",{className:"js-not-subscribed"},r.createElement("p",{className:"spacer-bottom"},Object(i.translateWithParameters)("report.unsubscribed",n.getEffectiveFrequencyText())),r.createElement("button",{className:"js-report-subscribe",onClick:n.handleSubscribe},Object(i.translate)("report.subscribe")),n.renderLoading())},n.state={subscribed:t.status.subscribed,loading:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillReceiveProps=function(e){e.status.subscribed!==this.props.status.subscribed&&this.setState({subscribed:e.status.subscribed})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e,t=!!this.props.currentUser.email,n=this.state.subscribed;return e=t?n?this.renderWhenSubscribed():this.renderWhenNotSubscribed():r.createElement("p",{className:"note js-no-email"},Object(i.translate)("report.no_email_to_subscribe")),r.createElement("div",{className:"big-spacer-top js-report-subscription"},e)},t}(r.PureComponent);t.a=s},2402:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.subComponents,r=e.total,l=n.length;if(!l)return null;var f=Object(c.max)(n.map(function(e){return Number(e.measures.ncloc||0)})),h={pathname:"/code",query:{id:t}};return o.createElement("div",{className:"panel panel-white portfolio-sub-components",id:"portfolio-sub-components"},o.createElement("table",{className:"data zebra"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null," "),o.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(p.translate)("metric_domain.Releasability")),o.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(p.translate)("metric_domain.Reliability")),o.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(p.translate)("metric_domain.Security")),o.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(p.translate)("metric_domain.Maintainability")),o.createElement("th",{className:"text-center portfolio-sub-components-cell"},Object(p.translate)("metric.ncloc.name")))),o.createElement("tbody",null,n.map(function(e){return o.createElement("tr",{key:e.key},o.createElement("td",null,o.createElement(s.Link,{to:Object(d.o)(e.refKey||e.key),className:"link-with-icon"},o.createElement(u.a,{qualifier:e.qualifier})," ",e.name)),"TRK"===e.qualifier?a(e.measures,"alert_status","LEVEL"):a(e.measures,"releasability_rating","RATING"),a(e.measures,"reliability_rating","RATING"),a(e.measures,"security_rating","RATING"),a(e.measures,"sqale_rating","RATING"),i(e.measures,f))}))),r>l&&o.createElement("footer",{className:"spacer-top note text-center"},Object(p.translateWithParameters)("x_of_y_shown",Object(m.formatMeasure)(l,"INT"),Object(m.formatMeasure)(r,"INT")),o.createElement(s.Link,{to:h,className:"spacer-left"},Object(p.translate)("show_more"))))}function a(e,t,n){return o.createElement("td",{className:"text-center"},o.createElement(l.a,{measure:{metric:{key:t,type:n},value:e[t]}}))}function i(e,t){var n=Number(e.ncloc||0),r=t>0?Math.max(1,Math.round(n/t*50)):0;return o.createElement("td",{className:"text-right"},o.createElement("span",{className:"note"},o.createElement(l.a,{measure:{metric:{key:"ncloc",type:"SHORT_INT"},value:e.ncloc}})),t>0&&o.createElement("svg",{width:"50",height:"16",className:"spacer-left"},o.createElement("rect",{className:"bar-chart-bar",x:"0",y:"3",width:r,height:"10"})))}t.a=r;var o=n(0),s=(n.n(o),n(13)),c=n(5),l=(n.n(c),n(1912)),u=n(80),p=n(2),m=n(44),d=n(26)},2403:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.measures,r=n.releasability_rating,p=n.last_change_on_releasability_rating,m=n.releasability_effort;return a.createElement("div",{className:"portfolio-box portfolio-releasability"},a.createElement("h2",{className:"portfolio-box-title"},Object(l.translate)("metric_domain.Releasability")),r&&a.createElement(i.Link,{to:Object(u.d)(t,"alert_status"),className:"portfolio-box-rating"},a.createElement(s.a,{value:r})),a.createElement(o.a,{lastChange:p}),m&&Number(m)>0&&a.createElement("div",{className:"portfolio-effort"},a.createElement(i.Link,{to:Object(u.d)(t,"alert_status")},a.createElement("span",null,a.createElement(c.a,{measure:{metric:{key:"projects",type:"SHORT_INT"},value:m}})," ",1===Number(m)?"project":"projects"))," ",a.createElement("span",{className:"level level-ERROR level-small"},Object(l.translate)("metric.level.ERROR"))))}t.a=r;var a=n(0),i=(n.n(a),n(13)),o=n(1967),s=n(1907),c=n(1912),l=n(2),u=n(26)},2404:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.measures,r=n.reliability_rating,p=n.last_change_on_reliability_rating,m=n.reliability_rating_effort,d=m?JSON.parse(m):void 0;return a.createElement("div",{className:"portfolio-box portfolio-reliability"},a.createElement("h2",{className:"portfolio-box-title"},Object(u.translate)("metric_domain.Reliability"),a.createElement(o.a,{component:t,metric:"Reliability"}),a.createElement(s.a,{component:t,metric:"reliability_rating"})),r&&a.createElement(c.a,{component:t,metric:"reliability_rating",value:r}),a.createElement(l.a,{lastChange:p}),d&&a.createElement(i.a,{component:t,effort:d,metricKey:"reliability_rating"}))}t.a=r;var a=n(0),i=(n.n(a),n(1998)),o=n(1999),s=n(2e3),c=n(2001),l=n(1967),u=n(2)},2405:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.measures,r=n.security_rating,p=n.last_change_on_security_rating,m=n.security_rating_effort,d=m?JSON.parse(m):void 0;return a.createElement("div",{className:"portfolio-box portfolio-security"},a.createElement("h2",{className:"portfolio-box-title"},Object(u.translate)("metric_domain.Security"),a.createElement(o.a,{component:t,metric:"Security"}),a.createElement(s.a,{component:t,metric:"security_rating"})),r&&a.createElement(l.a,{component:t,metric:"security_rating",value:r}),a.createElement(c.a,{lastChange:p}),d&&a.createElement(i.a,{component:t,effort:d,metricKey:"security_rating"}))}t.a=r;var a=n(0),i=(n.n(a),n(1998)),o=n(1999),s=n(2e3),c=n(1967),l=n(2001),u=n(2)},2406:function(e,t,n){"use strict";function r(e){var t=e.component,n=e.measures,r=n.sqale_rating,p=n.last_change_on_maintainability_rating,m=n.maintainability_rating_effort,d=m?JSON.parse(m):void 0;return a.createElement("div",{className:"portfolio-box portfolio-maintainability"},a.createElement("h2",{className:"portfolio-box-title"},Object(u.translate)("metric_domain.Maintainability"),a.createElement(s.a,{component:t,metric:"Maintainability"}),a.createElement(c.a,{component:t,metric:"sqale_rating"})),r&&a.createElement(o.a,{component:t,metric:"sqale_rating",value:r}),a.createElement(l.a,{lastChange:p}),d&&a.createElement(i.a,{component:t,effort:d,metricKey:"sqale_rating"}))}t.a=r;var a=n(0),i=(n.n(a),n(1998)),o=n(2001),s=n(1999),c=n(2e3),l=n(1967),u=n(2)},2407:function(e,t,n){"use strict";var r=n(0),a=(n.n(r),n(1913)),i=n(1989),o=n(334),s=n(1950),c=n(45),l=n(2),u=n(328),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=i.a,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0},t.fetchHistory=function(){var e=t.props.component,n=Object(a.j)(Object(u.b)(),Object(u.a)());return(!n||n.length<=0)&&(n=Object(a.j)(a.b,[])),t.setState({loading:!0}),Promise.all([Object(s.a)(e,n),Object(o.a)()]).then(function(e){var n=e[0],r=e[1];if(t.mounted){var a={};n.measures.forEach(function(e){var t=e.history.map(function(e){return{date:Object(c.parseDate)(e.date),value:e.value}});a[e.metric]=t}),t.setState({history:a,loading:!1,metrics:r})}},function(){t.mounted&&t.setState({loading:!1})})},t.renderWhenEmpty=function(){return r.createElement("div",{className:"note"},Object(l.translate)("component_measures.no_history"))},t}return p(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchHistory()},t.prototype.componentDidUpdate=function(e){e.component!==this.props.component&&this.fetchHistory()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return r.createElement("div",{className:"big-spacer-bottom"},r.createElement("h4",null,Object(l.translate)("project_activity.page")),this.state.loading?r.createElement("i",{className:"spinner"}):void 0!==this.state.metrics&&void 0!==this.state.history&&r.createElement(m,{history:this.state.history,metrics:this.state.metrics,project:this.props.component,renderWhenEmpty:this.renderWhenEmpty}))},t}(r.PureComponent);t.a=d},2408:function(e,t,n){"use strict";function r(e){var t={};return e.forEach(function(e){t[e.metric]=e.value}),t}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),t.c=r;var a=["projects","ncloc","ncloc_language_distribution","releasability_rating","releasability_effort","sqale_rating","maintainability_rating_effort","reliability_rating","reliability_rating_effort","security_rating","security_rating_effort","last_change_on_releasability_rating","last_change_on_maintainability_rating","last_change_on_security_rating","last_change_on_reliability_rating"],i=["ncloc","releasability_rating","security_rating","reliability_rating","sqale_rating","alert_status"]},2409:function(e,t,n){var r=n(2410);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0;n(1861)(r,a);r.locals&&(e.exports=r.locals)},2410:function(e,t,n){t=e.exports=n(1860)(void 0),t.push([e.i,".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}",""])}});
//# sourceMappingURL=243.47eb6d68.chunk.js.map