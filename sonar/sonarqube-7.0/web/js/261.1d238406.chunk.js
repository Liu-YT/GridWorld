webpackJsonp([261],{1884:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),o=n(601),r=n(2338),i=n(10),c=function(t){return Object(i.getQualityGatesAppState)(t)},s=function(t){return{updateStore:function(e){return t(Object(o.s)(e))},addQualityGate:function(e){return t(Object(o.l)(e))},deleteQualityGate:function(e){return t(Object(o.o)(e))}}};e.default=Object(a.connect)(c,s)(r.a)},1915:function(t,e,n){"use strict";function a(t){return Object(g.getJSON)("/api/qualitygates/list",t).catch(b.a)}function o(t){return Object(g.getJSON)("/api/qualitygates/show",t).catch(b.a)}function r(t){return Object(g.postJSON)("/api/qualitygates/create",t).catch(b.a)}function i(t){return Object(g.post)("/api/qualitygates/destroy",t).catch(b.a)}function c(t){return Object(g.post)("/api/qualitygates/rename",t).catch(b.a)}function s(t){return Object(g.postJSON)("/api/qualitygates/copy",t).catch(b.a)}function l(t){return Object(g.post)("/api/qualitygates/set_as_default",t).catch(b.a)}function u(t){return Object(g.postJSON)("/api/qualitygates/create_condition",t)}function p(t){return Object(g.postJSON)("/api/qualitygates/update_condition",t)}function f(t){return Object(g.post)("/api/qualitygates/delete_condition",t)}function d(t){return Object(g.getJSON)("/api/qualitygates/get_by_project",t).then(function(t){var e=t.qualityGate;return e&&O({},e,{isDefault:e.default})},b.a)}function m(t){return Object(g.post)("/api/qualitygates/select",t).catch(b.a)}function y(t){return Object(g.post)("/api/qualitygates/deselect",t).catch(b.a)}function h(t){return Object(g.getJSON)("/api/qualitygates/application_status",t).catch(b.a)}e.i=a,e.h=o,e.d=r,e.f=i,e.l=c,e.b=s,e.m=l,e.c=u,e.n=p,e.e=f,e.k=d,e.a=m,e.g=y,e.j=h;var g=n(14),b=n(31),O=this&&this.__assign||Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}},1922:function(t,e,n){"use strict";var a=n(0),o=(n.n(a),n(5)),r=(n.n(o),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),i=function(t){function e(e){var n=t.call(this,e)||this;return n.getPosition=function(){var t=n.container&&n.container.getBoundingClientRect();return t?{top:window.pageYOffset+t.top,left:window.pageXOffset+t.left}:{top:0,left:0}},n.debouncedOnResize=Object(o.debounce)(function(){return n.forceUpdate()},250),n}return r(e,t),e.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},e.prototype.render=function(){var t=this;return a.createElement("div",{className:this.props.className,ref:function(e){return t.container=e}},this.props.children(this.getPosition()))},e}(a.PureComponent);e.a=i},1992:function(t,e,n){"use strict";function a(t){var e=t.className,n=t.tooltip,a=void 0===n||n,s=o.createElement("div",{className:r("outline-badge",e)},Object(c.translate)("quality_gates.built_in")),l=o.createElement("div",null,o.createElement("span",null,Object(c.translate)("quality_gates.built_in.description.1")),o.createElement("span",{className:"little-spacer-left"},Object(c.translate)("quality_gates.built_in.description.2")));return a?o.createElement(i.a,{overlay:l},s):s}e.a=a;var o=n(0),r=(n.n(o),n(8)),i=(n.n(r),n(23)),c=n(2)},2338:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(0),c=n.n(i),s=n(6),l=n.n(s),u=n(24),p=n.n(u),f=n(2339),d=n(2341),m=n(1922),y=n(1915),h=n(2),g=n(26),b=n(2342),O=(n.n(b),function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}()),v=function(t){function e(){var t,n,r,i;a(this,e);for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.state={},r.fetchQualityGates=function(){return Object(y.i)({organization:r.props.organization&&r.props.organization.key}).then(function(t){var e=t.actions,n=t.qualitygates,a=r.props,o=a.organization;(0,a.updateStore)({actions:e,qualityGates:n}),n&&1===n.length&&!e.create&&r.context.router.replace(Object(g.p)(String(n[0].id),o&&o.key))},function(){})},i=n,o(r,i)}return r(e,t),O(e,[{key:"componentDidMount",value:function(){this.fetchQualityGates(),document.body.classList.add("white-page");var t=document.getElementById("footer");t&&t.classList.add("page-footer-with-sidebar")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("white-page");var t=document.getElementById("footer");t&&t.classList.remove("page-footer-with-sidebar")}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,a=e.qualityGates,o=e.actions,r=e.organization,i=Object(h.translate)("quality_gates.page"),s=c.a.createElement(d.a,{organization:r,qualityGates:a});return c.a.createElement("div",{id:"quality-gates-page",className:"layout-page"},c.a.createElement(p.a,{defaultTitle:i,titleTemplate:"%s - "+i}),c.a.createElement(m.a,{className:"layout-page-side-outer"},function(e){var n=e.top;return c.a.createElement("div",{className:"layout-page-side",style:{top:n}},c.a.createElement("div",{className:"layout-page-side-inner"},c.a.createElement("div",{className:"layout-page-filters"},c.a.createElement(f.a,{canCreate:o&&o.create,onAdd:t.props.addQualityGate,organization:r}),a&&s)))}),null!=a&&c.a.Children.map(n,function(t){return c.a.cloneElement(t,{organization:r})}))}}]),e}(i.Component);v.contextTypes={router:l.a.object.isRequired},e.a=v},2339:function(t,e,n){"use strict";var a=n(0),o=(n.n(a),n(2340)),r=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={createQualityGateOpen:!1},e.openCreateQualityGateForm=function(){return e.setState({createQualityGateOpen:!0})},e.closeCreateQualityGateForm=function(){return e.setState({createQualityGateOpen:!1})},e}return i(e,t),e.prototype.render=function(){var t=this.props.organization;return a.createElement("header",{className:"page-header"},a.createElement("h1",{className:"page-title"},Object(r.translate)("quality_gates.page")),this.props.canCreate&&a.createElement("div",{className:"page-actions"},a.createElement("button",{id:"quality-gate-add",onClick:this.openCreateQualityGateForm},Object(r.translate)("create"))),this.state.createQualityGateOpen&&a.createElement(o.a,{onClose:this.closeCreateQualityGateForm,onCreate:this.props.onAdd,organization:t&&t.key}))},e}(a.PureComponent);e.a=c},2340:function(t,e,n){"use strict";var a=n(0),o=(n.n(a),n(6)),r=(n.n(o),n(27)),i=n(1915),c=n(2),s=n(26),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={loading:!1,name:""},e.handleCancelClick=function(t){t.preventDefault(),e.props.onClose()},e.handleNameChange=function(t){e.setState({name:t.currentTarget.value})},e.handleFormSubmit=function(t){t.preventDefault();var n=e.props.organization,a=e.state.name;a&&(e.setState({loading:!0}),Object(i.d)({name:a,organization:n}).then(function(t){e.props.onCreate(t),e.context.router.push(Object(s.p)(String(t.id),n)),e.props.onClose()},function(){e.mounted&&e.setState({loading:!1})}))},e}return l(e,t),e.prototype.componentDidMount=function(){this.mounted=!0},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.render=function(){var t=this.state,e=t.loading,n=t.name,o=Object(c.translate)("quality_gates.rename"),i=e||!n;return a.createElement(r.a,{contentLabel:o,onRequestClose:this.props.onClose},a.createElement("form",{id:"quality-gate-form",onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,o)),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",{htmlFor:"quality-gate-form-name"},Object(c.translate)("name"),a.createElement("em",{className:"mandatory"},"*")),a.createElement("input",{autoFocus:!0,id:"quality-gate-form-name",maxLength:100,onChange:this.handleNameChange,required:!0,size:50,type:"text",value:n}))),a.createElement("div",{className:"modal-foot"},e&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement("button",{disabled:i,className:"js-confirm"},Object(c.translate)("save")),a.createElement("a",{href:"#",className:"js-modal-close",onClick:this.handleCancelClick},Object(c.translate)("cancel")))))},e.contextTypes={router:o.object},e}(a.PureComponent);e.a=u},2341:function(t,e,n){"use strict";function a(t){var e=t.organization,n=t.qualityGates;return r.a.createElement("div",{className:"list-group"},n.map(function(t){return r.a.createElement(i.Link,{key:t.id,to:Object(l.p)(String(t.id),e&&e.key),activeClassName:"active",className:"list-group-item","data-id":t.id},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",{className:"thin nowrap spacer-left text-right"},t.isDefault&&r.a.createElement("span",{className:"text-middle badge"},Object(s.translate)("default")),t.isBuiltIn&&u)))))}))}e.a=a;var o=n(0),r=n.n(o),i=n(13),c=n(1992),s=n(2),l=n(26),u=r.a.createElement(c.a,{className:"little-spacer-left",tooltip:!1})},2342:function(t,e,n){var a=n(2343);"string"==typeof a&&(a=[[t.i,a,""]]);var o={hmr:!0};o.transform=void 0;n(1861)(a,o);a.locals&&(t.exports=a.locals)},2343:function(t,e,n){e=t.exports=n(1860)(void 0),e.push([t.i,".quality-gate-section{max-width:1440px}.quality-gate-section+.quality-gate-section{margin-top:10px;padding-top:20px}",""])}});
//# sourceMappingURL=261.1d238406.chunk.js.map