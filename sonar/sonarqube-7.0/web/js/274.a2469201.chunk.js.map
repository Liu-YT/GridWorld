{"version":3,"sources":["webpack:///js/274.a2469201.chunk.js","webpack:///./src/main/js/apps/account/organizations/UserOrganizations.tsx","webpack:///./src/main/js/apps/account/organizations/OrganizationsList.tsx","webpack:///./src/main/js/apps/account/organizations/OrganizationCard.tsx"],"names":["webpackJsonp","1872","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_react_helmet__","n","__WEBPACK_IMPORTED_MODULE_1_react_helmet___default","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3__OrganizationsList__","__WEBPACK_IMPORTED_MODULE_4__CreateOrganizationForm__","__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_6__actions__","__WEBPACK_IMPORTED_MODULE_7__store_rootReducer__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","UserOrganizations","_super","_this","apply","arguments","state","createOrganization","loading","stopLoading","mounted","setState","openCreateOrganizationForm","closeCreateOrganizationForm","handleCreateClick","event","preventDefault","currentTarget","blur","handleCreate","componentDidMount","props","fetchIfAnyoneCanCreateOrganizations","then","componentWillUnmount","render","anyoneCanCreate","canCreateOrganizations","canAdmin","className","a","title","onClick","organizations","onClose","onCreate","mapStateToProps","mapDispatchToProps","2092","OrganizationsList","_a","length","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_1_lodash__","organization","name","toLocaleLowerCase","map","key","__WEBPACK_IMPORTED_MODULE_2__OrganizationCard__","2093","OrganizationCard","__WEBPACK_IMPORTED_MODULE_1__components_common_OrganizationAvatar__","__WEBPACK_IMPORTED_MODULE_2__components_ui_OrganizationLink__","isAdmin","description","url","href","rel"],"mappings":"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","file":"js/274.a2469201.chunk.js","sourcesContent":["webpackJsonp([274],{\n\n/***/ 1872:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_helmet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__OrganizationsList__ = __webpack_require__(2092);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CreateOrganizationForm__ = __webpack_require__(866);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__actions__ = __webpack_require__(865);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__store_rootReducer__ = __webpack_require__(10);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\nvar UserOrganizations = /** @class */function (_super) {\n    __extends(UserOrganizations, _super);\n    function UserOrganizations() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { createOrganization: false, loading: true };\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.openCreateOrganizationForm = function () {\n            return _this.setState({ createOrganization: true });\n        };\n        _this.closeCreateOrganizationForm = function () {\n            return _this.setState({ createOrganization: false });\n        };\n        _this.handleCreateClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            _this.openCreateOrganizationForm();\n        };\n        _this.handleCreate = function () {\n            _this.closeCreateOrganizationForm();\n        };\n        return _this;\n    }\n    UserOrganizations.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading, this.stopLoading);\n    };\n    UserOrganizations.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    UserOrganizations.prototype.render = function () {\n        var anyoneCanCreate = this.props.anyoneCanCreate != null && this.props.anyoneCanCreate.value === 'true';\n        var canCreateOrganizations = !this.state.loading && (anyoneCanCreate || this.props.canAdmin);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"account-body account-container\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_helmet___default.a, { title: Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('my_account.organizations') }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"boxed-group\" }, canCreateOrganizations && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"clearfix\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"boxed-group-actions\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { onClick: this.handleCreateClick }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('create')))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"boxed-group-inner\" }, this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__OrganizationsList__[\"a\" /* default */], { organizations: this.props.organizations }))), this.state.createOrganization && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__CreateOrganizationForm__[\"a\" /* default */], { onClose: this.closeCreateOrganizationForm, onCreate: this.handleCreate }));\n    };\n    return UserOrganizations;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\nvar mapStateToProps = function mapStateToProps(state) {\n    return {\n        anyoneCanCreate: Object(__WEBPACK_IMPORTED_MODULE_7__store_rootReducer__[\"getGlobalSettingValue\"])(state, 'sonar.organizations.anyoneCanCreate'),\n        canAdmin: Object(__WEBPACK_IMPORTED_MODULE_7__store_rootReducer__[\"getAppState\"])(state).canAdmin,\n        organizations: Object(__WEBPACK_IMPORTED_MODULE_7__store_rootReducer__[\"getMyOrganizations\"])(state)\n    };\n};\nvar mapDispatchToProps = {\n    fetchIfAnyoneCanCreateOrganizations: __WEBPACK_IMPORTED_MODULE_6__actions__[\"a\" /* fetchIfAnyoneCanCreateOrganizations */]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"connect\"])(mapStateToProps, mapDispatchToProps)(UserOrganizations));\n\n/***/ }),\n\n/***/ 2092:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = OrganizationsList;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__OrganizationCard__ = __webpack_require__(2093);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction OrganizationsList(_a) {\n    var organizations = _a.organizations;\n    if (organizations.length === 0) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('my_account.organizations.no_results'));\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"ul\", { className: \"account-projects-list\" }, Object(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"sortBy\"])(organizations, function (organization) {\n        return organization.name.toLocaleLowerCase();\n    }).map(function (organization) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", { key: organization.key }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__OrganizationCard__[\"a\" /* default */], { organization: organization }));\n    }));\n}\n\n/***/ }),\n\n/***/ 2093:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = OrganizationCard;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_common_OrganizationAvatar__ = __webpack_require__(340);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ui_OrganizationLink__ = __webpack_require__(583);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction OrganizationCard(_a) {\n    var organization = _a.organization;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"account-project-card clearfix\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"aside\", { className: \"account-project-side note\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"strong\", null, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('organization.key'), \":\"), \" \", organization.key), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", { className: \"account-project-name\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__components_common_OrganizationAvatar__[\"a\" /* default */], { organization: organization }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_ui_OrganizationLink__[\"a\" /* default */], { className: \"spacer-left text-middle\", organization: organization }, organization.name), organization.isAdmin && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"outline-badge spacer-left\" }, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('admin'))), !!organization.description && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"markdown spacer-top\" }, organization.description), !!organization.url && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"markdown spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"a\", { href: organization.url, title: organization.url, rel: \"nofollow\" }, organization.url)));\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/274.a2469201.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { connect } from 'react-redux';\nimport OrganizationsList from './OrganizationsList';\nimport CreateOrganizationForm from './CreateOrganizationForm';\nimport { translate } from '../../../helpers/l10n';\nimport { fetchIfAnyoneCanCreateOrganizations } from './actions';\nimport { getAppState, getMyOrganizations, getGlobalSettingValue } from '../../../store/rootReducer';\nimport { Organization } from '../../../app/types';\n\ninterface StateProps {\n  anyoneCanCreate?: { value: string };\n  canAdmin: boolean;\n  organizations: Array<Organization>;\n}\n\ninterface DispatchProps {\n  fetchIfAnyoneCanCreateOrganizations: () => Promise<void>;\n}\n\ninterface Props extends StateProps, DispatchProps {}\n\ninterface State {\n  createOrganization: boolean;\n  loading: boolean;\n}\n\nclass UserOrganizations extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { createOrganization: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading, this.stopLoading);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  openCreateOrganizationForm = () => this.setState({ createOrganization: true });\n\n  closeCreateOrganizationForm = () => this.setState({ createOrganization: false });\n\n  handleCreateClick = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.openCreateOrganizationForm();\n  };\n\n  handleCreate = () => {\n    this.closeCreateOrganizationForm();\n  };\n\n  render() {\n    const anyoneCanCreate =\n      this.props.anyoneCanCreate != null && this.props.anyoneCanCreate.value === 'true';\n\n    const canCreateOrganizations = !this.state.loading && (anyoneCanCreate || this.props.canAdmin);\n\n    return (\n      <div className=\"account-body account-container\">\n        <Helmet title={translate('my_account.organizations')} />\n\n        <div className=\"boxed-group\">\n          {canCreateOrganizations && (\n            <div className=\"clearfix\">\n              <div className=\"boxed-group-actions\">\n                <button onClick={this.handleCreateClick}>{translate('create')}</button>\n              </div>\n            </div>\n          )}\n          <div className=\"boxed-group-inner\">\n            {this.state.loading ? (\n              <i className=\"spinner\" />\n            ) : (\n              <OrganizationsList organizations={this.props.organizations} />\n            )}\n          </div>\n        </div>\n\n        {this.state.createOrganization && (\n          <CreateOrganizationForm\n            onClose={this.closeCreateOrganizationForm}\n            onCreate={this.handleCreate}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  anyoneCanCreate: getGlobalSettingValue(state, 'sonar.organizations.anyoneCanCreate'),\n  canAdmin: getAppState(state).canAdmin,\n  organizations: getMyOrganizations(state)\n});\n\nconst mapDispatchToProps = {\n  fetchIfAnyoneCanCreateOrganizations: fetchIfAnyoneCanCreateOrganizations as any\n} as DispatchProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOrganizations);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/account/organizations/UserOrganizations.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport OrganizationCard from './OrganizationCard';\nimport { Organization } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  organizations: Organization[];\n}\n\nexport default function OrganizationsList({ organizations }: Props) {\n  if (organizations.length === 0) {\n    return <div>{translate('my_account.organizations.no_results')}</div>;\n  }\n\n  return (\n    <ul className=\"account-projects-list\">\n      {sortBy(organizations, organization => organization.name.toLocaleLowerCase()).map(\n        organization => (\n          <li key={organization.key}>\n            <OrganizationCard organization={organization} />\n          </li>\n        )\n      )}\n    </ul>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/account/organizations/OrganizationsList.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OrganizationAvatar from '../../../components/common/OrganizationAvatar';\nimport OrganizationLink from '../../../components/ui/OrganizationLink';\nimport { translate } from '../../../helpers/l10n';\nimport { Organization } from '../../../app/types';\n\ninterface Props {\n  organization: Organization;\n}\n\nexport default function OrganizationCard({ organization }: Props) {\n  return (\n    <div className=\"account-project-card clearfix\">\n      <aside className=\"account-project-side note\">\n        <strong>{translate('organization.key')}:</strong> {organization.key}\n      </aside>\n\n      <h3 className=\"account-project-name\">\n        <OrganizationAvatar organization={organization} />\n        <OrganizationLink className=\"spacer-left text-middle\" organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n        {organization.isAdmin && (\n          <span className=\"outline-badge spacer-left\">{translate('admin')}</span>\n        )}\n      </h3>\n\n      {!!organization.description && (\n        <div className=\"markdown spacer-top\">{organization.description}</div>\n      )}\n\n      {!!organization.url && (\n        <div className=\"markdown spacer-top\">\n          <a href={organization.url} title={organization.url} rel=\"nofollow\">\n            {organization.url}\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/account/organizations/OrganizationCard.tsx"],"sourceRoot":""}