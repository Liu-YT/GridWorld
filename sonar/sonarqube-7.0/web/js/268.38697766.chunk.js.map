{"version":3,"sources":["webpack:///js/268.38697766.chunk.js","webpack:///./src/main/js/apps/projectQualityGate/App.tsx","webpack:///./src/main/js/api/quality-gates.ts","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./src/main/js/apps/projectQualityGate/Header.tsx","webpack:///./src/main/js/apps/projectQualityGate/Form.tsx"],"names":["webpackJsonp","1896","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_react_helmet__","n","__WEBPACK_IMPORTED_MODULE_1_react_helmet___default","__WEBPACK_IMPORTED_MODULE_2__Header__","__WEBPACK_IMPORTED_MODULE_3__Form__","__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__","__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__","__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__","__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","App","_super","_this","apply","arguments","state","loading","handleChangeGate","oldId","newId","allGates","Promise","resolve","component","props","requestData","gateId","organization","projectKey","key","then","mounted","newGate","find","gate","id","setState","onComponentChange","qualityGate","undefined","componentDidMount","checkPermissions","fetchQualityGates","componentWillUnmount","configuration","showQualityGates","all","project","_a","qualitygates","render","className","a","title","onChange","1915","data","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","catch","__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__","fetchQualityGate","createQualityGate","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","createCondition","updateCondition","deleteCondition","getGateForProject","__assign","isDefault","default","associateGateWithProject","dissociateGateWithProject","getApplicationQualityGate","assign","t","s","i","length","call","1955","addGlobalSuccessMessage","message","__WEBPACK_IMPORTED_MODULE_0__getStore__","dispatch","__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__","2452","Header","__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__","2453","__WEBPACK_IMPORTED_MODULE_1__components_controls_Select__","__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__","Form","stopLoading","handleChange","option","isSet","isUnset","isChanged","Number","renderGateName","label","renderSelect","options","map","String","name","clearable","disabled","optionRenderer","style","width","valueRenderer"],"mappings":"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","file":"js/268.38697766.chunk.js","sourcesContent":["webpackJsonp([268],{\n\n/***/ 1896:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_helmet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Header__ = __webpack_require__(2452);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Form__ = __webpack_require__(2453);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_quality_gates__ = __webpack_require__(1915);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__ = __webpack_require__(1955);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__ = __webpack_require__(222);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_l10n__ = __webpack_require__(2);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\nvar App = /** @class */function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.handleChangeGate = function (oldId, newId) {\n            var allGates = _this.state.allGates;\n            if (!oldId && !newId || !allGates) {\n                return Promise.resolve();\n            }\n            var component = _this.props.component;\n            var requestData = {\n                gateId: newId ? newId : oldId,\n                organization: component.organization,\n                projectKey: component.key\n            };\n            var request = newId ? Object(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"a\" /* associateGateWithProject */])(requestData) : Object(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"g\" /* dissociateGateWithProject */])(requestData);\n            return request.then(function () {\n                if (_this.mounted) {\n                    Object(__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translate\"])('project_quality_gate.successfully_updated'));\n                    if (newId) {\n                        var newGate = allGates.find(function (gate) {\n                            return gate.id === newId;\n                        });\n                        if (newGate) {\n                            _this.setState({ gate: newGate });\n                            _this.props.onComponentChange({ qualityGate: newGate });\n                        }\n                    } else {\n                        _this.setState({ gate: undefined });\n                    }\n                }\n            });\n        };\n        return _this;\n    }\n    App.prototype.componentDidMount = function () {\n        this.mounted = true;\n        if (this.checkPermissions()) {\n            this.fetchQualityGates();\n        } else {\n            Object(__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__[\"default\"])();\n        }\n    };\n    App.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    App.prototype.checkPermissions = function () {\n        var configuration = this.props.component.configuration;\n        var hasPermission = configuration && configuration.showQualityGates;\n        return !!hasPermission;\n    };\n    App.prototype.fetchQualityGates = function () {\n        var _this = this;\n        var component = this.props.component;\n        this.setState({ loading: true });\n        Promise.all([Object(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"i\" /* fetchQualityGates */])({ organization: component.organization }), Object(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"k\" /* getGateForProject */])({ organization: component.organization, project: component.key })]).then(function (_a) {\n            var allGates = _a[0].qualitygates,\n                gate = _a[1];\n            if (_this.mounted) {\n                _this.setState({ allGates: allGates, gate: gate, loading: false });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    App.prototype.render = function () {\n        if (!this.checkPermissions()) {\n            return null;\n        }\n        var _a = this.state,\n            allGates = _a.allGates,\n            gate = _a.gate,\n            loading = _a.loading;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { id: \"project-quality-gate\", className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_helmet___default.a, { title: Object(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translate\"])('project_quality_gate.page') }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Header__[\"a\" /* default */], null), loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : allGates && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__Form__[\"a\" /* default */], { allGates: allGates, gate: gate, onChange: this.handleChangeGate }));\n    };\n    return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 1915:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = fetchQualityGates;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = fetchQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = createQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = deleteQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = renameQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = copyQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = setQualityGateAsDefault;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = createCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = updateCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = deleteCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = getGateForProject;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = associateGateWithProject;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = dissociateGateWithProject;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = getApplicationQualityGate;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__ = __webpack_require__(31);\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\nfunction fetchQualityGates(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/list', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction fetchQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/show', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction createQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/create', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction deleteQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/destroy', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction renameQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/rename', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction copyQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/copy', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction setQualityGateAsDefault(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/set_as_default', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction createCondition(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/create_condition', data);\n}\nfunction updateCondition(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/update_condition', data);\n}\nfunction deleteCondition(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/delete_condition', data);\n}\nfunction getGateForProject(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/get_by_project', data).then(function (_a) {\n        var qualityGate = _a.qualityGate;\n        return qualityGate && __assign({}, qualityGate, { isDefault: qualityGate.default });\n    }, __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction associateGateWithProject(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/select', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction dissociateGateWithProject(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/deselect', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction getApplicationQualityGate(data) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/application_status', data).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\n\n/***/ }),\n\n/***/ 1955:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addGlobalSuccessMessage;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getStore__ = __webpack_require__(69);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__ = __webpack_require__(32);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\nfunction addGlobalSuccessMessage(message) {\n  var store = Object(__WEBPACK_IMPORTED_MODULE_0__getStore__[\"default\"])();\n  store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__[\"d\" /* addGlobalSuccessMessage */](message));\n}\n\n/***/ }),\n\n/***/ 2452:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Header;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\nfunction Header() {\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"header\", { className: \"page-header\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h1\", { className: \"page-title\" }, Object(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_gate.page')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-description\" }, Object(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_gate.page.description')));\n}\n\n/***/ }),\n\n/***/ 2453:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_controls_Select__ = __webpack_require__(175);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_l10n__ = __webpack_require__(2);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\nvar Form = /** @class */function (_super) {\n    __extends(Form, _super);\n    function Form() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: false };\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleChange = function (option) {\n            var gate = _this.props.gate;\n            var isSet = gate == null && option.value != null;\n            var isUnset = gate != null && option.value == null;\n            var isChanged = gate != null && gate.id !== Number(option.value);\n            var hasChanged = isSet || isUnset || isChanged;\n            if (hasChanged) {\n                _this.setState({ loading: true });\n                _this.props.onChange(gate && gate.id, Number(option.value)).then(_this.stopLoading, _this.stopLoading);\n            }\n        };\n        _this.renderGateName = function (option) {\n            if (option.isDefault) {\n                return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"strong\", null, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('default')), ': ', option.label);\n            }\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, option.label);\n        };\n        return _this;\n    }\n    Form.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    Form.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Form.prototype.renderSelect = function () {\n        var _a = this.props,\n            gate = _a.gate,\n            allGates = _a.allGates;\n        var options = allGates.map(function (gate) {\n            return {\n                value: String(gate.id),\n                label: gate.name,\n                isDefault: gate.isDefault\n            };\n        });\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__components_controls_Select__[\"c\" /* default */], { clearable: false, disabled: this.state.loading, onChange: this.handleChange, optionRenderer: this.renderGateName, options: options, style: { width: 300 }, value: gate && String(gate.id), valueRenderer: this.renderGateName });\n    };\n    Form.prototype.render = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderSelect(), this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner spacer-left\" }));\n    };\n    return Form;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Form);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/268.38697766.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport Header from './Header';\nimport Form from './Form';\nimport {\n  fetchQualityGates,\n  getGateForProject,\n  associateGateWithProject,\n  dissociateGateWithProject,\n  QualityGate\n} from '../../api/quality-gates';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { Component } from '../../app/types';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  component: Component;\n  onComponentChange: (changes: {}) => void;\n}\n\ninterface State {\n  allGates?: QualityGate[];\n  gate?: QualityGate;\n  loading: boolean;\n}\n\nexport default class App extends React.PureComponent<Props> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.checkPermissions()) {\n      this.fetchQualityGates();\n    } else {\n      handleRequiredAuthorization();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkPermissions() {\n    const { configuration } = this.props.component;\n    const hasPermission = configuration && configuration.showQualityGates;\n    return !!hasPermission;\n  }\n\n  fetchQualityGates() {\n    const { component } = this.props;\n    this.setState({ loading: true });\n    Promise.all([\n      fetchQualityGates({ organization: component.organization }),\n      getGateForProject({ organization: component.organization, project: component.key })\n    ]).then(\n      ([{ qualitygates: allGates }, gate]) => {\n        if (this.mounted) {\n          this.setState({ allGates, gate, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleChangeGate = (oldId?: number, newId?: number) => {\n    const { allGates } = this.state;\n    if ((!oldId && !newId) || !allGates) {\n      return Promise.resolve();\n    }\n\n    const { component } = this.props;\n    const requestData = {\n      gateId: newId ? newId : oldId!,\n      organization: component.organization,\n      projectKey: component.key\n    };\n    const request = newId\n      ? associateGateWithProject(requestData)\n      : dissociateGateWithProject(requestData);\n\n    return request.then(() => {\n      if (this.mounted) {\n        addGlobalSuccessMessage(translate('project_quality_gate.successfully_updated'));\n        if (newId) {\n          const newGate = allGates.find(gate => gate.id === newId);\n          if (newGate) {\n            this.setState({ gate: newGate });\n            this.props.onComponentChange({ qualityGate: newGate });\n          }\n        } else {\n          this.setState({ gate: undefined });\n        }\n      }\n    });\n  };\n\n  render() {\n    if (!this.checkPermissions()) {\n      return null;\n    }\n\n    const { allGates, gate, loading } = this.state;\n\n    return (\n      <div id=\"project-quality-gate\" className=\"page page-limited\">\n        <Helmet title={translate('project_quality_gate.page')} />\n        <Header />\n        {loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          allGates && <Form allGates={allGates} gate={gate} onChange={this.handleChangeGate} />\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ConditionBase {\n  error: string;\n  metric: string;\n  op?: string;\n  period?: number;\n  warning: string;\n}\n\nexport interface Condition extends ConditionBase {\n  id: number;\n}\n\nexport interface QualityGate {\n  actions?: {\n    associateProjects: boolean;\n    copy: boolean;\n    delete: boolean;\n    manageConditions: boolean;\n    rename: boolean;\n    setAsDefault: boolean;\n  };\n  conditions?: Condition[];\n  id: number;\n  isBuiltIn?: boolean;\n  isDefault?: boolean;\n  name: string;\n}\n\nexport function fetchQualityGates(data: {\n  organization?: string;\n}): Promise<{\n  actions: { create: boolean };\n  qualitygates: QualityGate[];\n}> {\n  return getJSON('/api/qualitygates/list', data).catch(throwGlobalError);\n}\n\nexport function fetchQualityGate(data: {\n  id: number;\n  organization?: string;\n}): Promise<QualityGate> {\n  return getJSON('/api/qualitygates/show', data).catch(throwGlobalError);\n}\n\nexport function createQualityGate(data: {\n  name: string;\n  organization?: string;\n}): Promise<QualityGate> {\n  return postJSON('/api/qualitygates/create', data).catch(throwGlobalError);\n}\n\nexport function deleteQualityGate(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/destroy', data).catch(throwGlobalError);\n}\n\nexport function renameQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/rename', data).catch(throwGlobalError);\n}\n\nexport function copyQualityGate(data: {\n  id: number;\n  name: string;\n  organization?: string;\n}): Promise<QualityGate> {\n  return postJSON('/api/qualitygates/copy', data).catch(throwGlobalError);\n}\n\nexport function setQualityGateAsDefault(data: {\n  id: number;\n  organization?: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', data).catch(throwGlobalError);\n}\n\nexport function createCondition(\n  data: {\n    gateId: number;\n    organization?: string;\n  } & ConditionBase\n): Promise<Condition> {\n  return postJSON('/api/qualitygates/create_condition', data);\n}\n\nexport function updateCondition(data: { organization?: string } & Condition): Promise<Condition> {\n  return postJSON('/api/qualitygates/update_condition', data);\n}\n\nexport function deleteCondition(data: { id: number; organization?: string }): Promise<void> {\n  return post('/api/qualitygates/delete_condition', data);\n}\n\nexport function getGateForProject(data: {\n  organization?: string;\n  project: string;\n}): Promise<QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', data).then(\n    ({ qualityGate }) =>\n      qualityGate && {\n        ...qualityGate,\n        isDefault: qualityGate.default\n      },\n    throwGlobalError\n  );\n}\n\nexport function associateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/select', data).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(data: {\n  gateId: number;\n  organization?: string;\n  projectKey: string;\n}): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', data).catch(throwGlobalError);\n}\n\nexport function getApplicationQualityGate(data: {\n  application: string;\n  organization?: string;\n}): Promise<void | Response> {\n  return getJSON('/api/qualitygates/application_status', data).catch(throwGlobalError);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/quality-gates.ts","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getStore from './getStore';\nimport * as globalMessages from '../../store/globalMessages/duck';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/app/utils/addGlobalSuccessMessage.ts","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\n\nexport default function Header() {\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('project_quality_gate.page')}</h1>\n      <div className=\"page-description\">{translate('project_quality_gate.page.description')}</div>\n    </header>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/Header.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { QualityGate } from '../../api/quality-gates';\nimport Select from '../../components/controls/Select';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  allGates: QualityGate[];\n  gate?: QualityGate;\n  onChange: (oldGate?: number, newGate?: number) => Promise<void>;\n}\n\ninterface State {\n  loading: boolean;\n}\n\ninterface Option {\n  isDefault?: boolean;\n  label: string;\n  value: string;\n}\n\nexport default class Form extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleChange = (option: { value: string }) => {\n    const { gate } = this.props;\n\n    const isSet = gate == null && option.value != null;\n    const isUnset = gate != null && option.value == null;\n    const isChanged = gate != null && gate.id !== Number(option.value);\n    const hasChanged = isSet || isUnset || isChanged;\n\n    if (hasChanged) {\n      this.setState({ loading: true });\n      this.props\n        .onChange(gate && gate.id, Number(option.value))\n        .then(this.stopLoading, this.stopLoading);\n    }\n  };\n\n  renderGateName = (option: { isDefault?: boolean; label: string }) => {\n    if (option.isDefault) {\n      return (\n        <span>\n          <strong>{translate('default')}</strong>\n          {': '}\n          {option.label}\n        </span>\n      );\n    }\n\n    return <span>{option.label}</span>;\n  };\n\n  renderSelect() {\n    const { gate, allGates } = this.props;\n\n    const options: Option[] = allGates.map(gate => ({\n      value: String(gate.id),\n      label: gate.name,\n      isDefault: gate.isDefault\n    }));\n\n    return (\n      <Select\n        clearable={false}\n        disabled={this.state.loading}\n        onChange={this.handleChange}\n        optionRenderer={this.renderGateName}\n        options={options}\n        style={{ width: 300 }}\n        value={gate && String(gate.id)}\n        valueRenderer={this.renderGateName}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSelect()}\n        {this.state.loading && <i className=\"spinner spacer-left\" />}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/Form.tsx"],"sourceRoot":""}