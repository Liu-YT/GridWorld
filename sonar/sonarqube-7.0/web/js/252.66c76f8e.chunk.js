webpackJsonp([252],{1890:function(e,t,n){"use strict";function a(e){var t=e.profile;return r.createElement("div",null,r.createElement("div",{className:"quality-profile-grid"},r.createElement("div",{className:"quality-profile-grid-left"},r.createElement(o.a,u({},e)),r.createElement(s.a,u({},e)),t.actions&&t.actions.edit&&!t.isBuiltIn&&r.createElement(c.a,{organization:e.organization||void 0,profile:t})),r.createElement("div",{className:"quality-profile-grid-right"},r.createElement(i.a,u({},e)),r.createElement(l.a,u({},e)))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(0),o=(n.n(r),n(2373)),l=n(2378),i=n(2380),s=n(2383),c=n(2384),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}},1929:function(e,t,n){"use strict";function a(e){var t=e.name,n=e.language,a=e.organization,c=e.children,u=s(e,["name","language","organization","children"]);return r.createElement(o.Link,i({to:Object(l.c)(t,n,a),activeClassName:"link-no-underline"},u),c)}t.a=a;var r=n(0),o=(n.n(r),n(13)),l=n(323),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]]);return n}},1951:function(e,t,n){"use strict";function a(e){var t=e.className,n=e.tooltip,a=void 0===n||n,s=r.createElement("div",{className:o("outline-badge",t)},Object(i.translate)("quality_profiles.built_in")),c=r.createElement("span",null,Object(i.translate)("quality_profiles.built_in.description.1")," ",Object(i.translate)("quality_profiles.built_in.description.2"));return a?r.createElement(l.a,{overlay:c,placement:"right"},s):s}t.a=a;var r=n(0),o=(n.n(r),n(8)),l=(n.n(o),n(23)),i=n(2)},2039:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(27)),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={submitting:!1},t.stopSubmitting=function(){t.mounted&&t.setState({submitting:!1})},t.handleCloseClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClose()},t.handleSubmitClick=function(e){e.preventDefault(),e.currentTarget.blur();var n=t.props.onSubmit();n&&(t.setState({submitting:!0}),n.then(t.stopSubmitting,t.stopSubmitting))},t}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(r.a,{contentLabel:this.props.header,onRequestClose:this.props.onClose},this.props.children({onCloseClick:this.handleCloseClick,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))},t}(a.PureComponent);t.a=l},2373:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(13)),o=n(5),l=(n.n(o),n(2374)),i=n(2375),s=n(2376),c=n(2377),u=n(101),p=n(577),m=n(26),d=n(2),f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),h=["BUG","VULNERABILITY","CODE_SMELL"],g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activatedTotal:null,activatedByType:Object(o.keyBy)(h.map(function(e){return{val:e,count:null}}),"val"),allByType:Object(o.keyBy)(h.map(function(e){return{val:e,count:null}}),"val"),compareToSonarWay:null,loading:!0,total:null},t}return f(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadRules()},t.prototype.componentDidUpdate=function(e){e.profile!==this.props.profile&&this.loadRules()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadProfile=function(){return this.props.profile.isBuiltIn?Promise.resolve(null):Object(p.o)({compareToSonarWay:!0,profile:this.props.profile.key})},t.prototype.loadAllRules=function(){return Object(u.e)({languages:this.props.profile.language,ps:1,facets:"types"})},t.prototype.loadActivatedRules=function(){return Object(u.e)({qprofile:this.props.profile.key,activation:"true",ps:1,facets:"types"})},t.prototype.loadRules=function(){var e=this;this.setState({loading:!0}),Promise.all([this.loadAllRules(),this.loadActivatedRules(),this.loadProfile()]).then(function(t){if(e.mounted){var n=t[0],a=t[1],r=t[2];e.setState({activatedTotal:a.total,allByType:Object(o.keyBy)(Object(u.f)(n,"types"),"val"),activatedByType:Object(o.keyBy)(Object(u.f)(a,"types"),"val"),compareToSonarWay:r&&r.compareToSonarWay,loading:!1,total:n.total})}},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.getRulesCountForType=function(e){return this.state.activatedByType&&this.state.activatedByType[e]?this.state.activatedByType[e].count:null},t.prototype.getRulesTotalForType=function(e){return this.state.allByType&&this.state.allByType[e]?this.state.allByType[e].count:null},t.prototype.render=function(){var e=this,t=this.props,n=t.organization,o=t.profile,u=this.state.compareToSonarWay,p=Object(m.s)({qprofile:o.key,activation:"false"},n);return a.createElement("div",{className:"boxed-group quality-profile-rules"},a.createElement("div",{className:"quality-profile-rules-distribution"},a.createElement("table",{className:"data condensed"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement("h2",null,Object(d.translate)("rules"))),a.createElement("th",null,Object(d.translate)("active")),a.createElement("th",null,Object(d.translate)("inactive")))),a.createElement("tbody",null,a.createElement(i.a,{count:this.state.activatedTotal,organization:n,qprofile:o.key,total:this.state.total}),h.map(function(t){return a.createElement(l.a,{key:t,count:e.getRulesCountForType(t),organization:n,qprofile:o.key,total:e.getRulesTotalForType(t),type:t})}))),o.actions&&o.actions.edit&&!o.isBuiltIn&&a.createElement("div",{className:"text-right big-spacer-top"},a.createElement(r.Link,{to:p,className:"button js-activate-rules"},Object(d.translate)("quality_profiles.activate_more")))),o.activeDeprecatedRuleCount>0&&a.createElement(s.a,{activeDeprecatedRules:o.activeDeprecatedRuleCount,organization:n,profile:o.key}),null!=u&&u.missingRuleCount>0&&a.createElement(c.a,{language:o.language,organization:n,profile:o.key,sonarway:u.profile,sonarWayMissingRules:u.missingRuleCount}))},t}(a.PureComponent);t.a=g},2374:function(e,t,n){"use strict";function a(e){var t=Object(s.s)({qprofile:e.qprofile,activation:"true",types:e.type},e.organization),n=Object(s.s)({qprofile:e.qprofile,activation:"false",types:e.type},e.organization),a=null;return null!=e.count&&null!=e.total&&(a=e.total-e.count),r.createElement("tr",null,r.createElement("td",null,r.createElement("span",null,r.createElement(l.a,{query:e.type,className:"little-spacer-right"}),Object(c.translate)("issue.type",e.type,"plural"))),r.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&r.createElement(o.Link,{to:t},Object(i.formatMeasure)(e.count,"SHORT_INT",null))),r.createElement("td",{className:"thin nowrap text-right"},null!=a&&(a>0?r.createElement(o.Link,{to:n,className:"small text-muted"},Object(i.formatMeasure)(a,"SHORT_INT",null)):r.createElement("span",{className:"note text-muted"},"0"))))}t.a=a;var r=n(0),o=(n.n(r),n(13)),l=n(219),i=n(44),s=n(26),c=n(2)},2375:function(e,t,n){"use strict";function a(e){var t=Object(i.s)({qprofile:e.qprofile,activation:"true"},e.organization),n=Object(i.s)({qprofile:e.qprofile,activation:"false"},e.organization),a=null;return null!=e.count&&null!=e.total&&(a=e.total-e.count),r.createElement("tr",null,r.createElement("td",null,r.createElement("strong",null,Object(s.translate)("total"))),r.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&r.createElement(o.Link,{to:t},r.createElement("strong",null,Object(l.formatMeasure)(e.count,"SHORT_INT",null)))),r.createElement("td",{className:"thin nowrap text-right"},null!=a&&(a>0?r.createElement(o.Link,{to:n,className:"small text-muted"},r.createElement("strong",null,Object(l.formatMeasure)(a,"SHORT_INT",null))):r.createElement("span",{className:"note text-muted"},"0"))))}t.a=a;var r=n(0),o=(n.n(r),n(13)),l=n(44),i=n(26),s=n(2)},2376:function(e,t,n){"use strict";function a(e){var t=Object(i.g)({qprofile:e.profile},e.organization);return r.createElement("div",{className:"quality-profile-rules-deprecated clearfix"},r.createElement("span",{className:"pull-left"},Object(s.translate)("quality_profiles.deprecated_rules"),r.createElement(l.a,{overlay:Object(s.translate)("quality_profiles.deprecated_rules_description")},r.createElement("i",{className:"icon-help spacer-left"}))),r.createElement(o.Link,{className:"pull-right",to:t},e.activeDeprecatedRules))}t.a=a;var r=n(0),o=(n.n(r),n(13)),l=n(23),i=n(26),s=n(2)},2377:function(e,t,n){"use strict";function a(e){var t=Object(i.s)({qprofile:e.profile,activation:"false",compareToProfile:e.sonarway,languages:e.language},e.organization);return r.createElement("div",{className:"quality-profile-rules-sonarway-missing clearfix"},r.createElement("span",{className:"pull-left"},Object(s.translate)("quality_profiles.sonarway_missing_rules"),r.createElement(l.a,{overlay:Object(s.translate)("quality_profiles.sonarway_missing_rules_description")},r.createElement("i",{className:"icon-help spacer-left"}))),r.createElement(o.Link,{className:"pull-right",to:t},e.sonarWayMissingRules))}t.a=a;var r=n(0),o=(n.n(r),n(13)),l=n(23),i=n(26),s=n(2)},2378:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(13)),o=n(2379),l=n(80),i=n(577),s=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={formOpen:!1,loading:!0,projects:null},t.handleChangeClick=function(e){e.preventDefault(),t.setState({formOpen:!0})},t.closeForm=function(){t.setState({formOpen:!1}),t.props.updateProfiles()},t}return c(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadProjects()},t.prototype.componentDidUpdate=function(e){e.profile!==this.props.profile&&this.loadProjects()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadProjects=function(){var e=this;if(this.props.profile.isDefault)return void this.setState({loading:!1});var t={key:this.props.profile.key};Object(i.n)(t).then(function(t){e.mounted&&e.setState({projects:t.results,more:t.more,loading:!1})},function(){})},t.prototype.renderDefault=function(){return this.state.loading?a.createElement("i",{className:"spinner"}):a.createElement("div",null,a.createElement("span",{className:"badge spacer-right"},Object(s.translate)("default")),Object(s.translate)("quality_profiles.projects_for_default"))},t.prototype.renderProjects=function(){if(this.state.loading)return a.createElement("i",{className:"spinner"});var e=this.state.projects;return null==e?null:0===e.length?a.createElement("div",null,Object(s.translate)("quality_profiles.no_projects_associated_to_profile")):a.createElement("ul",null,e.map(function(e){return a.createElement("li",{key:e.uuid,className:"spacer-top js-profile-project","data-key":e.key},a.createElement(r.Link,{to:{pathname:"/dashboard",query:{id:e.key}},className:"link-with-icon"},a.createElement(l.a,{qualifier:"TRK"})," ",a.createElement("span",null,e.name)))}))},t.prototype.render=function(){var e=this.props.profile;return a.createElement("div",{className:"boxed-group quality-profile-projects"},e.actions&&e.actions.associateProjects&&a.createElement("div",{className:"boxed-group-actions"},a.createElement("button",{className:"js-change-projects",onClick:this.handleChangeClick},Object(s.translate)("quality_profiles.change_projects"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(s.translate)("projects"))),a.createElement("div",{className:"boxed-group-inner"},e.isDefault?this.renderDefault():this.renderProjects()),this.state.formOpen&&a.createElement(o.a,{onClose:this.closeForm,organization:this.props.organization,profile:e}))},t}(a.PureComponent);t.a=u},2379:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(178)),o=(n.n(r),n(27)),l=n(338),i=n(2),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseClick=function(e){e.preventDefault(),t.props.onClose()},t.renderSelectList=function(){var e=t.props.profile.key,n=window.baseUrl+"/api/qualityprofiles/projects?key="+encodeURIComponent(e);new l.a({searchUrl:n,el:t.container,width:"100%",readOnly:!1,focusSearch:!1,dangerouslyUnescapedHtmlFormat:function(e){return r(e.name)},selectUrl:window.baseUrl+"/api/qualityprofiles/add_project",deselectUrl:window.baseUrl+"/api/qualityprofiles/remove_project",extra:{profileKey:e},selectParameter:"projectUuid",selectParameterValue:"uuid",labels:{selected:Object(i.translate)("quality_gates.projects.with"),deselected:Object(i.translate)("quality_gates.projects.without"),all:Object(i.translate)("quality_gates.projects.all"),noResults:Object(i.translate)("quality_gates.projects.noResults")},tooltips:{select:Object(i.translate)("quality_profiles.projects.select_hint"),deselect:Object(i.translate)("quality_profiles.projects.deselect_hint")}})},t}return s(t,e),t.prototype.render=function(){var e=this,t=Object(i.translate)("projects");return a.createElement(o.a,{contentLabel:t,onAfterOpen:this.renderSelectList,onRequestClose:this.props.onClose},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,t)),a.createElement("div",{className:"modal-body"},a.createElement("div",{id:"profile-projects",ref:function(t){return e.container=t}})),a.createElement("div",{className:"modal-foot"},a.createElement("a",{href:"#",onClick:this.handleCloseClick},Object(i.translate)("close"))))},t}(a.PureComponent);t.a=c},2380:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(8)),o=(n.n(r),n(2381)),l=n(2382),i=n(2),s=n(577),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={formOpen:!1,loading:!0},t.handleChangeParentClick=function(e){e.preventDefault(),t.setState({formOpen:!0})},t.closeForm=function(){t.setState({formOpen:!1})},t.handleParentChange=function(){t.props.updateProfiles(),t.closeForm()},t}return c(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadData()},t.prototype.componentDidUpdate=function(e){e.profile!==this.props.profile&&this.loadData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadData=function(){var e=this;Object(s.m)(this.props.profile.key).then(function(t){if(e.mounted){var n=t.ancestors,a=t.children;e.setState({children:a,ancestors:n.reverse(),profile:t.profile,loading:!1})}})},t.prototype.render=function(){var e=this,t=this.props,n=t.profile,s=t.profiles,c=this.state.ancestors,u=!this.state.loading&&null!=c&&null!=this.state.children&&(c.length>0||this.state.children.length>0),p=r("js-inheritance-current",{selected:u}),m=null!=c&&c.some(function(e){return e.isBuiltIn});return a.createElement("div",{className:"boxed-group quality-profile-inheritance"},n.actions&&n.actions.edit&&!n.isBuiltIn&&a.createElement("div",{className:"boxed-group-actions"},a.createElement("button",{className:"pull-right js-change-parent",onClick:this.handleChangeParentClick},Object(i.translate)("quality_profiles.change_parent"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(i.translate)("quality_profiles.profile_inheritance"))),a.createElement("div",{className:"boxed-group-inner"},this.state.loading?a.createElement("i",{className:"spinner"}):a.createElement("table",{className:"data zebra"},a.createElement("tbody",null,null!=c&&c.map(function(t,r){return a.createElement(o.a,{className:"js-inheritance-ancestor",depth:r,key:t.key,language:n.language,organization:e.props.organization,profile:t})}),null!=this.state.profile&&a.createElement(o.a,{className:p,depth:c?c.length:0,displayLink:!1,extendsBuiltIn:m,language:n.language,organization:this.props.organization,profile:this.state.profile}),null!=this.state.children&&this.state.children.map(function(t){return a.createElement(o.a,{className:"js-inheritance-child",depth:c?c.length+1:0,key:t.key,language:n.language,organization:e.props.organization,profile:t})})))),this.state.formOpen&&a.createElement(l.a,{onChange:this.handleParentChange,onClose:this.closeForm,onRequestFail:this.props.onRequestFail,profile:n,profiles:s.filter(function(e){return e!==n&&e.language===n.language})}))},t}(a.PureComponent);t.a=u},2381:function(e,t,n){"use strict";function a(e){var t=e.displayLink,n=void 0===t||t,a=c(e,["displayLink"]),u=a.profile,p=a.className,m=a.extendsBuiltIn,d=25*a.depth;return r.createElement("tr",{className:p},r.createElement("td",null,r.createElement("div",{style:{paddingLeft:d}},n?r.createElement(o.a,{language:a.language,name:u.name,organization:a.organization},u.name):u.name,u.isBuiltIn&&r.createElement(l.a,{className:"spacer-left"}),m&&r.createElement(i.a,{overlay:Object(s.translate)("quality_profiles.extends_built_in")},r.createElement("i",{className:"icon-help spacer-left"})))),r.createElement("td",null,Object(s.translateWithParameters)("quality_profile.x_active_rules",u.activeRuleCount)),r.createElement("td",null,null!=u.overridingRuleCount&&r.createElement("p",null,Object(s.translateWithParameters)("quality_profiles.x_overridden_rules",u.overridingRuleCount))))}t.a=a;var r=n(0),o=(n.n(r),n(1929)),l=n(1951),i=n(23),s=n(2),c=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]]);return n}},2382:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(5)),o=(n.n(r),n(577)),l=n(27),i=n(175),s=n(2),c=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1,selected:null},t.handleCancelClick=function(e){e.preventDefault(),t.props.onClose()},t.handleSelectChange=function(e){t.setState({selected:e.value})},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state.selected;null!=n&&(t.setState({loading:!0}),Object(o.d)(t.props.profile.key,n).then(t.props.onChange).catch(function(e){t.mounted&&t.setState({loading:!1}),t.props.onRequestFail(e)}))},t}return c(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.profiles,t=[{label:Object(s.translate)("none"),value:""}].concat(Object(r.sortBy)(e,"name").map(function(e){return{label:e.isBuiltIn?e.name+" ("+Object(s.translate)("quality_profiles.built_in")+")":e.name,value:e.key}})),n=this.state.loading||null==this.state.selected||this.state.selected===this.props.profile.parentKey;return a.createElement(l.a,{contentLabel:Object(s.translate)("quality_profiles.change_parent"),onRequestClose:this.props.onClose},a.createElement("form",{id:"change-profile-parent-form",onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,Object(s.translate)("quality_profiles.change_parent"))),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",{htmlFor:"change-profile-parent"},Object(s.translate)("quality_profiles.parent")," ",a.createElement("em",{className:"mandatory"},"*")),a.createElement(i.c,{clearable:!1,name:"parentKey",onChange:this.handleSelectChange,options:t,value:null!=this.state.selected?this.state.selected:this.props.profile.parentKey||""}))),a.createElement("div",{className:"modal-foot"},this.state.loading&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement("button",{disabled:n,id:"change-profile-parent-submit"},Object(s.translate)("change_verb")),a.createElement("a",{href:"#",id:"change-profile-parent-cancel",onClick:this.handleCancelClick},Object(s.translate)("cancel")))))},t}(a.PureComponent);t.a=u},2383:function(e,t,n){"use strict";var a=n(180),r=(n.n(a),n(0)),o=(n.n(r),n(2)),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.getExportUrl=function(e){var t=this.props,n=t.organization,r=t.profile,o={exporterKey:e.key,language:r.language,qualityProfile:r.name};return n&&Object.assign(o,{organization:n}),window.baseUrl+"/api/qualityprofiles/export?"+Object(a.stringify)(o)},t.prototype.render=function(){var e=this,t=this.props,n=t.exporters,a=t.profile,l=n.filter(function(e){return e.languages.includes(a.language)});return 0===l.length?null:r.createElement("div",{className:"boxed-group quality-profile-exporters"},r.createElement("h2",null,Object(o.translate)("quality_profiles.exporters")),r.createElement("div",{className:"boxed-group-inner"},r.createElement("ul",null,l.map(function(t,n){return r.createElement("li",{key:t.key,"data-key":t.key,className:n>0?"spacer-top":void 0},r.createElement("a",{href:e.getExportUrl(t),target:"_blank"},t.name))}))))},t}(r.PureComponent);t.a=i},2384:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(5)),o=(n.n(r),n(2385)),l=n(2386),i=n(2387),s=n(577),c=n(2),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={addUserForm:!1,loading:!0},t.handleAddUserButtonClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.setState({addUserForm:!0})},t.handleAddUserFormClose=function(){t.mounted&&t.setState({addUserForm:!1})},t.handleUserAdd=function(e){t.mounted&&t.setState(function(t){return{addUserForm:!1,users:t.users&&Object(r.uniqBy)(t.users.concat([e]),function(e){return e.login})}})},t.handleUserDelete=function(e){t.mounted&&t.setState(function(t){return{users:t.users&&t.users.filter(function(t){return t!==e})}})},t.handleGroupAdd=function(e){t.mounted&&t.setState(function(t){return{addUserForm:!1,groups:t.groups&&Object(r.uniqBy)(t.groups.concat([e]),function(e){return e.name})}})},t.handleGroupDelete=function(e){t.mounted&&t.setState(function(t){return{groups:t.groups&&t.groups.filter(function(t){return t!==e})}})},t}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchUsersAndGroups()},t.prototype.componentDidUpdate=function(e){e.organization===this.props.organization&&e.profile===this.props.profile||this.fetchUsersAndGroups()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchUsersAndGroups=function(){var e=this;this.setState({loading:!0});var t=this.props,n=t.organization,a=t.profile,r={language:a.language,organization:n,qualityProfile:a.name,selected:"selected"};Promise.all([Object(s.v)(r),Object(s.t)(r)]).then(function(t){var n=t[0],a=t[1];e.mounted&&e.setState({groups:a.groups,loading:!1,users:n.users})},function(){e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this;return a.createElement("div",{className:"boxed-group"},a.createElement("h2",null,Object(c.translate)("permissions.page")),a.createElement("div",{className:"boxed-group-inner"},a.createElement("p",{className:"note"},Object(c.translate)("quality_profiles.default_permissions")),this.state.loading?a.createElement("div",{className:"big-spacer-top"},a.createElement("i",{className:"spinner"})):a.createElement("div",{className:"big-spacer-top"},this.state.users&&Object(r.sortBy)(this.state.users,"name").map(function(t){return a.createElement(o.a,{key:t.login,onDelete:e.handleUserDelete,organization:e.props.organization,profile:e.props.profile,user:t})}),this.state.groups&&Object(r.sortBy)(this.state.groups,"name").map(function(t){return a.createElement(l.a,{group:t,key:t.name,onDelete:e.handleGroupDelete,organization:e.props.organization,profile:e.props.profile})}),a.createElement("div",{className:"text-right"},a.createElement("button",{onClick:this.handleAddUserButtonClick},Object(c.translate)("quality_profiles.grant_permissions_to_more_users"))))),this.state.addUserForm&&a.createElement(i.a,{onClose:this.handleAddUserFormClose,onGroupAdd:this.handleGroupAdd,onUserAdd:this.handleUserAdd,profile:this.props.profile,organization:this.props.organization}))},t}(a.PureComponent);t.a=p},2385:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(52)),o=n(577),l=n(2039),i=n(79),s=n(60),c=n(2),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={deleteModal:!1},t.handleDeleteClick=function(){t.setState({deleteModal:!0})},t.handleDeleteModalClose=function(){t.mounted&&t.setState({deleteModal:!1})},t.handleDelete=function(){var e=t.props,n=e.organization,a=e.profile,r=e.user;return Object(o.q)({language:a.language,login:r.login,organization:n,qualityProfile:a.name}).then(function(){t.handleDeleteModalClose(),t.props.onDelete(r)})},t.renderDeleteModal=function(e){return a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(c.translate)("users.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(r.b,{defaultMessage:Object(c.translate)("users.remove.confirmation"),id:"users.remove.confirmation",values:{user:a.createElement("strong",null,t.props.user.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement("button",{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(c.translate)("remove")),a.createElement("a",{href:"#",onClick:e.onCloseClick},Object(c.translate)("cancel"))))},t}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.user;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(i.b,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(s.a,{className:"pull-left spacer-right",hash:e.avatar,name:e.name,size:32}),a.createElement("div",{className:"overflow-hidden"},a.createElement("strong",null,e.name),a.createElement("div",{className:"note"},e.login)),this.state.deleteModal&&a.createElement(l.a,{header:Object(c.translate)("users.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))},t}(a.PureComponent);t.a=p},2386:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(52)),o=n(577),l=n(2039),i=n(614),s=n(79),c=n(2),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={deleteModal:!1},t.handleDeleteClick=function(){t.setState({deleteModal:!0})},t.handleDeleteModalClose=function(){t.mounted&&t.setState({deleteModal:!1})},t.handleDelete=function(){var e=t.props,n=e.group,a=e.organization,r=e.profile;return Object(o.p)({group:n.name,language:r.language,organization:a,qualityProfile:r.name}).then(function(){t.handleDeleteModalClose(),t.props.onDelete(n)})},t.renderDeleteModal=function(e){return a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(c.translate)("groups.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(r.b,{defaultMessage:Object(c.translate)("groups.remove.confirmation"),id:"groups.remove.confirmation",values:{user:a.createElement("strong",null,t.props.group.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement("button",{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(c.translate)("remove")),a.createElement("a",{href:"#",onClick:e.onCloseClick},Object(c.translate)("cancel"))))},t}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.group;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(s.b,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(i.a,{className:"pull-left spacer-right",size:32}),a.createElement("div",{className:"overflow-hidden",style:{lineHeight:"32px"}},a.createElement("strong",null,e.name)),this.state.deleteModal&&a.createElement(l.a,{header:Object(c.translate)("group.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))},t}(a.PureComponent);t.a=p},2387:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(2388)),o=n(577),l=n(27),i=n(2),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={submitting:!1},t.stopSubmitting=function(){t.mounted&&t.setState({submitting:!1})},t.handleUserAdd=function(e){return Object(o.b)({language:t.props.profile.language,login:e.login,organization:t.props.organization,qualityProfile:t.props.profile.name}).then(function(){return t.props.onUserAdd(e)},t.stopSubmitting)},t.handleGroupAdd=function(e){return Object(o.a)({group:e.name,language:t.props.profile.language,organization:t.props.organization,qualityProfile:t.props.profile.name}).then(function(){return t.props.onGroupAdd(e)},t.stopSubmitting)},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state.selected;n&&(t.setState({submitting:!0}),void 0!==n.login?t.handleUserAdd(n):t.handleGroupAdd(n))},t.handleSearch=function(e){var n=t.props,a=n.organization,r=n.profile,l={language:r.language,organization:a,q:e,qualityProfile:r.name,selected:"deselected"};return Promise.all([Object(o.v)(l),Object(o.t)(l)]).then(function(e){var t=e[0],n=e[1];return t.users.concat(n.groups)})},t.handleValueChange=function(e){t.setState({selected:e})},t}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(i.translate)("quality_profiles.grant_permissions_to_user_or_group"),t=!this.state.selected||this.state.submitting;return a.createElement(l.a,{contentLabel:e,onRequestClose:this.props.onClose},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,e)),a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-large-field"},a.createElement("label",null,Object(i.translate)("quality_profiles.search_description")),a.createElement(r.a,{selected:this.state.selected,onChange:this.handleValueChange,onSearch:this.handleSearch}))),a.createElement("footer",{className:"modal-foot"},this.state.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement("button",{disabled:t,type:"submit"},Object(i.translate)("add_verb")),a.createElement("button",{className:"button-link",onClick:this.props.onClose,type:"reset"},Object(i.translate)("cancel")))))},t}(a.PureComponent);t.a=c},2388:function(e,t,n){"use strict";function a(e){return void 0!==e.login}function r(e){return a(e)?"user:"+e.login:"group:"+e.name}function o(e){return a(e)?l.createElement("div",null,l.createElement(c.a,{hash:e.avatar,name:e.name,size:16}),l.createElement("strong",{className:"spacer-left"},e.name),l.createElement("span",{className:"note little-spacer-left"},e.login)):l.createElement("div",null,l.createElement(p.a,{size:16}),l.createElement("strong",{className:"spacer-left"},e.name))}var l=n(0),i=(n.n(l),n(5)),s=(n.n(i),n(175)),c=n(60),u=n(2),p=n(614),m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSearch=function(e){n.setState({loading:!0}),n.props.onSearch(e).then(function(e){n.mounted&&n.setState({loading:!1,searchResults:e})},function(){n.mounted&&n.setState({loading:!1})})},n.handleInputChange=function(e){n.setState({query:e}),e.length>1&&n.handleSearch(e)},n.handleSearch=Object(i.debounce)(n.handleSearch,250),n.state={loading:!1,query:"",searchResults:[]},n}return m(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.handleSearch(this.state.query)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=1===this.state.query.length?Object(u.translateWithParameters)("select2.tooShort",2):Object(u.translate)("no_results"),t=this.state.searchResults.map(function(e){return d({},e,{value:r(e)})});return l.createElement(s.c,{autofocus:!0,className:"Select-big",clearable:!1,isLoading:this.state.loading,filterOptions:i.identity,noResultsText:e,optionRenderer:o,options:t,onChange:this.props.onChange,onInputChange:this.handleInputChange,placeholder:"",searchable:!0,value:this.props.selected&&r(this.props.selected),valueRenderer:o})},t}(l.PureComponent);t.a=f}});
//# sourceMappingURL=252.66c76f8e.chunk.js.map