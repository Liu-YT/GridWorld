{"version":3,"sources":["webpack:///js/243.47eb6d68.chunk.js","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/apps/projectActivity/utils.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/react-virtualized/dist/commonjs/AutoSizer/index.js","webpack:///./node_modules/react-virtualized/dist/commonjs/AutoSizer/AutoSizer.js","webpack:///./node_modules/react-virtualized/dist/commonjs/vendor/detectElementResize.js","webpack:///./node_modules/react-virtualized/dist/commonjs/AutoSizer/types.js","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/AdvancedTimeline.js","webpack:///./src/main/js/api/time-machine.ts","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraph.js","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.js","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/styles.css?0236","webpack:///./src/main/js/apps/portfolio/styles.css"],"names":["webpackJsonp","1893","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1__Summary__","n","__WEBPACK_IMPORTED_MODULE_2__Report__","__WEBPACK_IMPORTED_MODULE_3__WorstProjects__","__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__","__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__","__WEBPACK_IMPORTED_MODULE_6__SecurityBox__","__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__","__WEBPACK_IMPORTED_MODULE_8__Activity__","__WEBPACK_IMPORTED_MODULE_9__utils__","__WEBPACK_IMPORTED_MODULE_10__api_measures__","__WEBPACK_IMPORTED_MODULE_11__api_components__","__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_13__styles_css__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","arguments","length","call","App","_super","_this","apply","state","loading","isEmpty","undefined","measures","isNotComputed","componentDidMount","mounted","fetchData","componentDidUpdate","prevProps","component","props","componentWillUnmount","setState","Promise","all","key","ps","then","_a","subComponents","components","map","totalSubComponents","paging","total","renderSpinner","className","renderEmpty","renderWhenNotComputed","renderMain","render","1907","Rating","_b","muted","_c","small","formatted","__WEBPACK_IMPORTED_MODULE_2__helpers_measures__","__WEBPACK_IMPORTED_MODULE_1_classnames__","rating-small","rating-muted","__WEBPACK_IMPORTED_MODULE_3__Rating_css__","1912","Measure","decimals","measure","metric","__WEBPACK_IMPORTED_MODULE_4__helpers_measures__","leak","type","__WEBPACK_IMPORTED_MODULE_2__ui_Level__","level","formattedValue","__WEBPACK_IMPORTED_MODULE_5__utils__","tooltip","Number","rating","__WEBPACK_IMPORTED_MODULE_1__ui_Rating__","__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__","overlay","1913","historyQueryChanged","prevQuery","nextQuery","graph","generateSeries","measuresHistory","metrics","displayedMetrics","__WEBPACK_IMPORTED_MODULE_0_lodash__","filter","indexOf","isCustomGraph","generateCoveredLinesMetric","find","data","history","analysis","x","date","y","name","translatedName","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__","serie","getAnalysesByVersionByDay","analyses","query","reduce","acc","currentVersion","versionEvent","events","event","category","newVersion","version","byDay","keys","push","day","__WEBPACK_IMPORTED_MODULE_2__helpers_dates__","getTime","toString","matchFilters","from","to","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","parseQuery","urlQuery","__WEBPACK_IMPORTED_MODULE_1__helpers_query__","customMetrics","parseGraph","project","selectedDate","serializeQuery","serializeUrlQuery","custom_metrics","serializeGraph","id","selected_date","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","datesQueryChanged","activityQueryChanged","customMetricsChanged","hasDataValues","hasHistoryData","hasHistoryDataValue","selectedDateQueryChanged","splitSeriesInGraphs","getSeriesMetricType","getDisplayedHistoryMetrics","getHistoryMetrics","GRAPHS_METRICS_DISPLAYED","issues","coverage","duplications","GRAPHS_METRICS","concat","some","point","series","uncoveredLines","linesToCover","idx","maxGraph","maxSeries","slice","includes","1916","enhanceMeasure","periods","getLeakValue","formatLeak","metricKey","metricType","options","__WEBPACK_IMPORTED_MODULE_0__helpers_measures__","period","index","getRatingTooltip","finalMetricKey","substr","KNOWN_RATINGS","1917","exports","_interopRequireDefault","obj","__esModule","default","_AutoSizer","enumerable","get","1919","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","writable","configurable","_createClass","defineProperties","target","descriptor","protoProps","staticProps","_react","_react2","_detectElementResize","_detectElementResize2","AutoSizer","babelPluginFlowReactPropTypes_proptype_Size","any","_React$PureComponent","_ref","_temp","_ret","_len","args","_key","getPrototypeOf","height","defaultHeight","width","defaultWidth","_onResize","_this$props","disableHeight","disableWidth","onResize","_parentNode","offsetHeight","offsetWidth","style","window","getComputedStyle","paddingLeft","parseInt","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","_setRef","autoSizer","_autoSizer","nonce","parentNode","HTMLElement","addResizeListener","removeResizeListener","_props","children","_state","outerStyle","overflow","childParams","createElement","ref","PureComponent","defaultProps","propTypes","func","isRequired","number","bool","string","1920","createDetectElementResize","_window","attachEvent","document","requestFrame","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resetTriggers","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","checkTriggers","__resizeLast__","scrollListener","e","__resizeRAF__","__resizeListeners__","forEach","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","pfx","elm","animationName","toLowerCase","animationKeyframes","animationStyle","createStyles","getElementById","css","head","getElementsByTagName","setAttribute","styleSheet","cssText","appendChild","createTextNode","elementStyle","position","innerHTML","addEventListener","__animationListener__","detachEvent","splice","removeEventListener","removeChild","1921","1941","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__","__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__","mapStateToProps","languages","1942","LanguageDistribution","getLanguageName","langKey","__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__","lang","__WEBPACK_IMPORTED_MODULE_1_lodash__","distribution","tokens","language","lines","yTicks","cutLanguageName","yTooltips","__WEBPACK_IMPORTED_MODULE_3__helpers_measures__","yValues","__WEBPACK_IMPORTED_MODULE_2__Histogram__","alignTicks","bars","padding","1943","__WEBPACK_IMPORTED_MODULE_1_d3_array__","__WEBPACK_IMPORTED_MODULE_2_d3_scale__","DEFAULT_PADDING","Histogram","wrapWithTooltip","placement","renderBar","xScale","yScale","Math","round","range","bandwidth","renderValue","BAR_HEIGHT","dx","dy","renderTick","tick","historyTickClass","renderBars","availableWidth","domain","availableHeight","_","rangeRound","transform","1949","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3_d3_array__","__WEBPACK_IMPORTED_MODULE_4_d3_scale__","__WEBPACK_IMPORTED_MODULE_5_d3_shape__","__WEBPACK_IMPORTED_MODULE_6__app_theme__","_extends","source","a","AdvancedTimeline","_initialiseProps","scales","getScales","selectedDatePos","getSelectedDatePos","updateTooltipPos","handleZoomUpdate","nextProps","startDate","endDate","updateTooltip","selectedDateXPos","selectedDateIdx","zoomEnabled","disableZoom","updateZoom","isZoomed","chart-zoomed","renderClipPath","leakPeriodDate","renderLeak","hideGrid","renderHorizontalGrid","hideXAxis","renderXAxisTicks","showAreas","renderAreas","renderLines","showEventMarkers","renderEvents","renderSelectedDate","renderMouseEventsOverlay","eventSize","maxYTicksCount","zoomSpeed","_this2","getRatingScale","getLevelScale","getYScale","flatData","nice","getXScale","_ref2","dateRange","start","end","clamp","maxXRange","firstSerie","findIndex","valueOf","xRange","sort","xPos","getEventMarker","size","half","getMouseOverlayPos","mouseOverlayPos","pos","getBoundingClientRect","handleWheel","evt","preventDefault","parentBbox","mouseXPos","pageX","left","speed","deltaMode","leftPos","deltaY","rightPos","invert","handleMouseMove","handleMouseEnter","mouseOver","handleMouseOut","targetClass","relatedTarget","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","formatYTick","_state2","hasTicks","ticks","formattedTicks","textAnchor","x1","x2","y1","y2","_state3","format","tickFormat","nextTick","yRange","leakWidth","fill","lineGenerator","defined","basisCurve","curve","areaGenerator","y0","_state4","inRangeEvents","offset","_state5","cx","cy","r","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","onClick","1950","getTimeMachineData","other","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","join","getAllTimeMachineData","prev","result","pageIndex","pageSize","1967","RatingFreshness","lastChange","JSON","parse","__WEBPACK_IMPORTED_MODULE_1_react_intl__","defaultMessage","values","__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__","__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__","1989","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default","__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__","__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__","__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_7__helpers_storage__","__WEBPACK_IMPORTED_MODULE_8__helpers_measures__","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph","getSeries","tooltipIdx","tooltipXPos","interpolate","formatValue","graphWidth","tooltipPos","tabIndex","role","renderTimeline","renderWhenEmpty","contextTypes","router","_this3","getDisplayedMetrics","myHistory","firstValid","measureHistory","context","pathname","branch","1990","__WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__","__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__","__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__","PreviewGraphTooltips","customClass","top","long","1991","PreviewGraphTooltipsContent","__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__","1998","Effort","effort","__WEBPACK_IMPORTED_MODULE_2_react_intl__","__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__","projects","__WEBPACK_IMPORTED_MODULE_1_react_router__","__WEBPACK_IMPORTED_MODULE_6__helpers_urls__","__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__","String","1999","MeasuresButtonLink","__WEBPACK_IMPORTED_MODULE_3__helpers_urls__","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__","2000","HistoryButtonLink","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__","2001","MainRating","__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__","2040","getReportStatus","componentKey","catch","__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__","getReportUrl","baseUrl","encodeURIComponent","subscribe","unsubscribe","2398","Summary","ncloc","nclocDistribution","description","__WEBPACK_IMPORTED_MODULE_5__helpers_urls__","__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__","__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__","2399","__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__","__WEBPACK_IMPORTED_MODULE_2__api_report__","Report","renderHeader","loadStatus","status","canDownload","href","download","canSubscribe","2400","__WEBPACK_IMPORTED_MODULE_1__Subscription__","__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__","currentUser","2401","__WEBPACK_IMPORTED_MODULE_1__api_report__","__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__","Subscription","stopLoading","handleSubscription","subscribed","handleSubscribe","currentTarget","blur","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","componentFrequency","globalFrequency","renderLoading","renderWhenSubscribed","renderWhenNotSubscribed","componentWillReceiveProps","inner","hasEmail","email","2402","WorstProjects","count","maxLoc","projectsPageUrl","__WEBPACK_IMPORTED_MODULE_7__helpers_urls__","refKey","__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__","qualifier","renderCell","renderNcloc","__WEBPACK_IMPORTED_MODULE_6__helpers_measures__","barWidth","max","2403","ReleasabilityBox","lastReleasabilityChange","__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__","2404","ReliabilityBox","lastReliabilityChange","rawEffort","__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_4__MainRating__","__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__","__WEBPACK_IMPORTED_MODULE_1__Effort__","2405","SecurityBox","lastSecurityChange","__WEBPACK_IMPORTED_MODULE_5__MainRating__","__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__","2406","MaintainabilityBox","lastMaintainabilityChange","__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_2__MainRating__","2407","__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__","__WEBPACK_IMPORTED_MODULE_3__api_metrics__","__WEBPACK_IMPORTED_MODULE_4__api_time_machine__","__WEBPACK_IMPORTED_MODULE_5__helpers_dates__","AnyPreviewGraph","Activity","fetchHistory","graphMetrics","timeMachine","history_1","2408","convertMeasures","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","2409","content","hmr","locals","2410"],"mappings":"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","file":"js/243.47eb6d68.chunk.js","sourcesContent":["webpackJsonp([243],{\n\n/***/ 1893:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Summary__ = __webpack_require__(2398);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Report__ = __webpack_require__(2399);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__WorstProjects__ = __webpack_require__(2402);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__ = __webpack_require__(2403);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__ = __webpack_require__(2404);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SecurityBox__ = __webpack_require__(2405);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__ = __webpack_require__(2406);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Activity__ = __webpack_require__(2407);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils__ = __webpack_require__(2408);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__api_measures__ = __webpack_require__(589);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__api_components__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__styles_css__ = __webpack_require__(2409);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__styles_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__styles_css__);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar App = /** @class */function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.isEmpty = function () {\n            return _this.state.measures === undefined || _this.state.measures['ncloc'] === undefined;\n        };\n        _this.isNotComputed = function () {\n            return _this.state.measures && _this.state.measures['reliability_rating'] === undefined;\n        };\n        return _this;\n    }\n    App.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.fetchData();\n    };\n    App.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchData();\n        }\n    };\n    App.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    App.prototype.fetchData = function () {\n        var _this = this;\n        this.setState({ loading: true });\n        Promise.all([Object(__WEBPACK_IMPORTED_MODULE_10__api_measures__[\"a\" /* getMeasures */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_9__utils__[\"a\" /* PORTFOLIO_METRICS */]), Object(__WEBPACK_IMPORTED_MODULE_11__api_components__[\"h\" /* getChildren */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_9__utils__[\"b\" /* SUB_COMPONENTS_METRICS */], { ps: 20, s: 'qualifier' })]).then(function (_a) {\n            var measures = _a[0],\n                subComponents = _a[1];\n            if (_this.mounted) {\n                _this.setState({\n                    loading: false,\n                    measures: Object(__WEBPACK_IMPORTED_MODULE_9__utils__[\"c\" /* convertMeasures */])(measures),\n                    subComponents: subComponents.components.map(function (component) {\n                        return __assign({}, component, { measures: Object(__WEBPACK_IMPORTED_MODULE_9__utils__[\"c\" /* convertMeasures */])(component.measures) });\n                    }),\n                    totalSubComponents: subComponents.paging.total\n                });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    App.prototype.renderSpinner = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner spinner-margin\" })));\n    };\n    App.prototype.renderEmpty = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, Object(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.empty')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", null, Object(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.empty.hint')));\n    };\n    App.prototype.renderWhenNotComputed = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, Object(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.not_computed')));\n    };\n    App.prototype.renderMain = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            measures = _a.measures,\n            subComponents = _a.subComponents,\n            totalSubComponents = _a.totalSubComponents;\n        if (this.isEmpty()) {\n            return this.renderEmpty();\n        }\n        if (this.isNotComputed()) {\n            return this.renderWhenNotComputed();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-boxes\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_6__SecurityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__[\"a\" /* default */], { component: component.key, measures: measures })), subComponents !== undefined && totalSubComponents !== undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__WorstProjects__[\"a\" /* default */], { component: component.key, subComponents: subComponents, total: totalSubComponents }));\n    };\n    App.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            loading = _a.loading,\n            measures = _a.measures;\n        if (loading) {\n            return this.renderSpinner();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-with-sidebar\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-main\" }, this.renderMain()), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"aside\", { className: \"page-sidebar-fixed\" }, !this.isEmpty() && !this.isNotComputed() && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Summary__[\"a\" /* default */], { component: component, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_8__Activity__[\"a\" /* default */], { component: component.key }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Report__[\"a\" /* default */], { component: component }))));\n    };\n    return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 1907:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Rating;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_measures__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Rating_css__ = __webpack_require__(584);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Rating_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Rating_css__);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction Rating(_a) {\n    var className = _a.className,\n        _b = _a.muted,\n        muted = _b === void 0 ? false : _b,\n        _c = _a.small,\n        small = _c === void 0 ? false : _c,\n        value = _a.value;\n    if (value === undefined) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, '');\n    }\n    var formatted = Object(__WEBPACK_IMPORTED_MODULE_2__helpers_measures__[\"formatMeasure\"])(value, 'RATING');\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: __WEBPACK_IMPORTED_MODULE_1_classnames__('rating', 'rating-' + formatted, { 'rating-small': small, 'rating-muted': muted }, className) }, formatted);\n}\n\n/***/ }),\n\n/***/ 1912:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Measure;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ui_Rating__ = __webpack_require__(1907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ui_Level__ = __webpack_require__(580);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_measures__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(1916);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\nfunction Measure(_a) {\n    var className = _a.className,\n        decimals = _a.decimals,\n        measure = _a.measure;\n    if (measure === undefined) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, '');\n    }\n    var metric = measure.metric;\n    var value = Object(__WEBPACK_IMPORTED_MODULE_4__helpers_measures__[\"isDiffMetric\"])(metric.key) ? measure.leak : measure.value;\n    if (value === undefined) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, '');\n    }\n    if (metric.type === 'LEVEL') {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__ui_Level__[\"a\" /* default */], { className: className, level: value });\n    }\n    if (metric.type !== 'RATING') {\n        var formattedValue = Object(__WEBPACK_IMPORTED_MODULE_4__helpers_measures__[\"isDiffMetric\"])(metric.key) ? Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"b\" /* formatLeak */])(measure.leak, metric.key, metric.type, { decimals: decimals }) : Object(__WEBPACK_IMPORTED_MODULE_4__helpers_measures__[\"formatMeasure\"])(measure.value, metric.type, { decimals: decimals });\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: className }, formattedValue != null ? formattedValue : '');\n    }\n    var tooltip = Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"c\" /* getRatingTooltip */])(metric.key, Number(value));\n    var rating = __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__ui_Rating__[\"a\" /* default */], { value: value });\n    if (tooltip) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__[\"a\" /* default */], { overlay: tooltip }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: className }, rating));\n    }\n    return rating;\n}\n\n/***/ }),\n\n/***/ 1913:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return APPLICATION_EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DEFAULT_GRAPH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return GRAPH_TYPES; });\n/* unused harmony export GRAPHS_METRICS_DISPLAYED */\n/* unused harmony export GRAPHS_METRICS */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return datesQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return activityQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return customMetricsChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return hasDataValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return hasHistoryData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return hasHistoryDataValue; });\n/* harmony export (immutable) */ __webpack_exports__[\"p\"] = historyQueryChanged;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return isCustomGraph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return selectedDateQueryChanged; });\n/* unused harmony export generateCoveredLinesMetric */\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = generateSeries;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return splitSeriesInGraphs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return getSeriesMetricType; });\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = getAnalysesByVersionByDay;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return getDisplayedHistoryMetrics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return getHistoryMetrics; });\n/* harmony export (immutable) */ __webpack_exports__[\"r\"] = parseQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"t\"] = serializeQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"u\"] = serializeUrlQuery;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_query__ = __webpack_require__(582);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_dates__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nvar EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nvar APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nvar DEFAULT_GRAPH = 'issues';\nvar GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nvar GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nvar GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat(['reliability_rating', 'security_rating', 'sqale_rating']),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nvar datesQueryChanged = function datesQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.from, nextQuery.from) || !Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.to, nextQuery.to);\n};\n\nvar activityQueryChanged = function activityQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n};\n\nvar customMetricsChanged = function customMetricsChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.customMetrics, nextQuery.customMetrics);\n};\n\nvar hasDataValues = function hasDataValues(serie /*: Serie */) {\n  return serie.data.some(function (point) {\n    return point.y || point.y === 0;\n  });\n};\n\nvar hasHistoryData = function hasHistoryData(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1;\n  });\n};\n\nvar hasHistoryDataValue = function hasHistoryDataValue(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1 && hasDataValues(serie);\n  });\n};\n\nfunction historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */{\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nvar isCustomGraph = function isCustomGraph(graph /*: string */) {\n  return graph === 'custom';\n};\n\nvar selectedDateQueryChanged = function selectedDateQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.selectedDate, nextQuery.selectedDate);\n};\n\nvar generateCoveredLinesMetric = function generateCoveredLinesMetric(uncoveredLines /*: MeasureHistory */\n, measuresHistory /*: Array<MeasureHistory> */\n) {\n  var linesToCover = measuresHistory.find(function (measure) {\n    return measure.metric === 'lines_to_cover';\n  });\n  return {\n    data: linesToCover ? uncoveredLines.history.map(function (analysis, idx) {\n      return {\n        x: analysis.date,\n        y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n      };\n    }) : [],\n    name: 'covered_lines',\n    translatedName: Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nfunction generateSeries(measuresHistory /*: Array<MeasureHistory> */\n, graph /*: string */\n, metrics /*: Array<Metric> */\n, displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */{\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"sortBy\"])(measuresHistory.filter(function (measure) {\n    return displayedMetrics.indexOf(measure.metric) >= 0;\n  }).map(function (measure) {\n    if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n      return generateCoveredLinesMetric(measure, measuresHistory);\n    }\n    var metric = metrics.find(function (metric) {\n      return metric.key === measure.metric;\n    });\n    return {\n      data: measure.history.map(function (analysis) {\n        return {\n          x: analysis.date,\n          y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n        };\n      }),\n      name: measure.metric,\n      translatedName: metric ? Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"getLocalizedMetricName\"])(metric) : measure.metric,\n      type: metric ? metric.type : 'INT'\n    };\n  }), function (serie) {\n    return displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name);\n  });\n}\n\nvar splitSeriesInGraphs = function splitSeriesInGraphs(series /*: Array<Serie> */\n, maxGraph /*: number */\n, maxSeries /*: number */\n) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"flatMap\"])(Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"groupBy\"])(series, function (serie) {\n    return serie.type;\n  }), function (type) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"chunk\"])(type, maxSeries);\n  }).slice(0, maxGraph);\n};\n\nvar getSeriesMetricType = function getSeriesMetricType(series /*: Array<Serie> */) {\n  return series.length > 0 ? series[0].type : 'INT';\n};\n\nfunction getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce(function (acc, analysis) {\n    var currentVersion = acc[acc.length - 1];\n    var versionEvent = analysis.events.find(function (event) {\n      return event.category === 'VERSION';\n    });\n    if (versionEvent) {\n      var newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    var day = Object(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"startOfDay\"])(Object(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"parseDate\"])(analysis.date)).getTime().toString();\n\n    var matchFilters = true;\n    if (query.category || query.from || query.to) {\n      var isAfterFrom = !query.from || analysis.date >= query.from;\n      var isBeforeTo = !query.to || analysis.date <= query.to;\n      var hasSelectedCategoryEvents = !query.category || analysis.events.find(function (event) {\n        return event.category === query.category;\n      }) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nvar getDisplayedHistoryMetrics = function getDisplayedHistoryMetrics(graph /*: string */\n, customMetrics /*: Array<string> */\n) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n};\n\nvar getHistoryMetrics = function getHistoryMetrics(graph /*: string */, customMetrics /*: Array<string> */) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n};\n\nvar parseGraph = function parseGraph(value /*: ?string */) {\n  var graph = Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* parseAsString */])(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nvar serializeGraph = function serializeGraph(value /*: string */) {\n  return value === DEFAULT_GRAPH ? undefined : value;\n};\n\nfunction parseQuery(urlQuery /*: RawQuery */) /*: Query */{\n  return {\n    category: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* parseAsString */])(urlQuery['category']),\n    customMetrics: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"b\" /* parseAsArray */])(urlQuery['custom_metrics'], __WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* parseAsString */]),\n    from: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"d\" /* parseAsDate */])(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* parseAsString */])(urlQuery['id']),\n    to: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"d\" /* parseAsDate */])(urlQuery['to']),\n    selectedDate: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"d\" /* parseAsDate */])(urlQuery['selected_date'])\n  };\n}\n\nfunction serializeQuery(query /*: Query */) /*: RawQuery */{\n  return Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"a\" /* cleanQuery */])({\n    category: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* serializeString */])(query.category),\n    from: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"h\" /* serializeDate */])(query.from),\n    project: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* serializeString */])(query.project),\n    to: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"h\" /* serializeDate */])(query.to)\n  });\n}\n\nfunction serializeUrlQuery(query /*: Query */) /*: RawQuery */{\n  return Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"a\" /* cleanQuery */])({\n    category: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* serializeString */])(query.category),\n    custom_metrics: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeStringArray */])(query.customMetrics),\n    from: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"h\" /* serializeDate */])(query.from),\n    graph: serializeGraph(query.graph),\n    id: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* serializeString */])(query.project),\n    to: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"h\" /* serializeDate */])(query.to),\n    selected_date: Object(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"h\" /* serializeDate */])(query.selectedDate)\n  });\n}\n\n/***/ }),\n\n/***/ 1916:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = enhanceMeasure;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = formatLeak;\n/* unused harmony export getLeakValue */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = getRatingTooltip;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_measures__ = __webpack_require__(44);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nvar KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\nfunction enhanceMeasure(measure, metrics) {\n    return {\n        value: measure.value,\n        periods: measure.periods,\n        metric: metrics[measure.metric],\n        leak: getLeakValue(measure)\n    };\n}\nfunction formatLeak(value, metricKey, metricType, options) {\n    if (Object(__WEBPACK_IMPORTED_MODULE_0__helpers_measures__[\"isDiffMetric\"])(metricKey)) {\n        return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_measures__[\"formatMeasure\"])(value, metricType, options);\n    } else {\n        return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_measures__[\"formatMeasureVariation\"])(value, metricType, options);\n    }\n}\nfunction getLeakValue(measure) {\n    if (!measure || !measure.periods) {\n        return undefined;\n    }\n    var period = measure.periods.find(function (period) {\n        return period.index === 1;\n    });\n    return period && period.value;\n}\nfunction getRatingTooltip(metricKey, value) {\n    var finalMetricKey = Object(__WEBPACK_IMPORTED_MODULE_0__helpers_measures__[\"isDiffMetric\"])(metricKey) ? metricKey.substr(4) : metricKey;\n    if (KNOWN_RATINGS.includes(finalMetricKey)) {\n        return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_measures__[\"getRatingTooltip\"])(finalMetricKey, value);\n    }\n    return undefined;\n}\n\n/***/ }),\n\n/***/ 1917:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AutoSizer = __webpack_require__(1919);\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\nObject.defineProperty(exports, 'AutoSizer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ }),\n\n/***/ 1919:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _detectElementResize = __webpack_require__(1920);\n\nvar _detectElementResize2 = _interopRequireDefault(_detectElementResize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar babelPluginFlowReactPropTypes_proptype_Size = __webpack_require__(1921).babelPluginFlowReactPropTypes_proptype_Size || __webpack_require__(6).any;\n\n/**\n * Decorator component that automatically adjusts the width and height of a single child.\n * Child component should not be declared as a child but should rather be specified by a `ChildComponent` property.\n * All other properties will be passed through to the child component.\n */\n\nvar AutoSizer = function (_React$PureComponent) {\n  _inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var height = _this._parentNode.offsetHeight || 0;\n        var width = _this._parentNode.offsetWidth || 0;\n\n        var style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n\n        var newHeight = height - paddingTop - paddingBottom;\n        var newWidth = width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: height - paddingTop - paddingBottom,\n            width: width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: height, width: width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode instanceof HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = (0, _detectElementResize2.default)(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n      return _react2.default.createElement(\n        'div',\n        { ref: this._setRef, style: outerStyle },\n        children(childParams)\n      );\n    }\n  }]);\n\n  return AutoSizer;\n}(_react2.default.PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false\n};\nAutoSizer.propTypes = {\n  children: __webpack_require__(6).func.isRequired,\n  defaultHeight: __webpack_require__(6).number,\n  defaultWidth: __webpack_require__(6).number,\n  disableHeight: __webpack_require__(6).bool.isRequired,\n  disableWidth: __webpack_require__(6).bool.isRequired,\n  nonce: __webpack_require__(6).string,\n  onResize: __webpack_require__(6).func.isRequired\n};\nexports.default = AutoSizer;\n\n/***/ }),\n\n/***/ 1920:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createDetectElementResize;\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = this;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles() {\n    if (!document.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = document.head || document.getElementsByTagName('head')[0],\n          style = document.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(document.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles();\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = document.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\n/***/ }),\n\n/***/ 1921:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (true) Object.defineProperty(exports, \"babelPluginFlowReactPropTypes_proptype_Size\", {\n  value: {\n    height: __webpack_require__(6).number.isRequired,\n    width: __webpack_require__(6).number.isRequired\n  },\n  configurable: true\n});\n\n/***/ }),\n\n/***/ 1941:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_rootReducer__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__ = __webpack_require__(1942);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: Object(__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__[\"getLanguages\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 1942:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LanguageDistribution;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Histogram__ = __webpack_require__(1943);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_measures__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\nfunction LanguageDistribution(props) {\n    var distribution = props.distribution.split(';').map(function (point) {\n        var tokens = point.split('=');\n        return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n    });\n    distribution = Object(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"sortBy\"])(distribution, function (d) {\n        return -d.lines;\n    });\n    var data = distribution.map(function (d) {\n        return d.lines;\n    });\n    var yTicks = distribution.map(function (d) {\n        return getLanguageName(d.language);\n    }).map(cutLanguageName);\n    var yTooltips = distribution.map(function (d) {\n        return d.lines > 1000 ? Object(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'INT') : '';\n    });\n    var yValues = distribution.map(function (d) {\n        return Object(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'SHORT_INT');\n    });\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Histogram__[\"a\" /* default */], { alignTicks: props.alignTicks, bars: data, height: distribution.length * 25, padding: [0, 60, 0, 80], yTicks: yTicks, yTooltips: yTooltips, yValues: yValues, width: props.width });\n    function getLanguageName(langKey) {\n        if (langKey === '<null>') {\n            return Object(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('unknown');\n        }\n        var lang = Object(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"find\"])(props.languages, { key: langKey });\n        return lang ? lang.name : langKey;\n    }\n}\nfunction cutLanguageName(name) {\n    return name.length > 10 ? name.substr(0, 7) + \"...\" : name;\n}\n\n/***/ }),\n\n/***/ 1943:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d3_array__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d3_scale__ = __webpack_require__(579);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__ = __webpack_require__(23);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nvar BAR_HEIGHT = 10;\nvar DEFAULT_PADDING = [10, 10, 10, 10];\nvar Histogram = /** @class */function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Histogram.prototype.wrapWithTooltip = function (element, index) {\n        var tooltip = this.props.yTooltips && this.props.yTooltips[index];\n        return tooltip ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__[\"a\" /* default */], { key: index, overlay: tooltip, placement: \"top\" }, element) : element;\n    };\n    Histogram.prototype.renderBar = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var width = Math.round(xScale(d)) + /* minimum bar width */1;\n        var x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: x, y: y, width: width, height: BAR_HEIGHT });\n    };\n    Histogram.prototype.renderValue = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b,\n            yValues = _a.yValues;\n        var value = yValues && yValues[index];\n        if (!value) {\n            return null;\n        }\n        var x = xScale(d) + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        return this.wrapWithTooltip(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: \"bar-chart-tick histogram-value\", x: x, y: y, dx: \"1em\", dy: \"0.3em\" }, value), index);\n    };\n    Histogram.prototype.renderTick = function (index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            yTicks = _a.yTicks;\n        var tick = yTicks && yTicks[index];\n        if (!tick) {\n            return null;\n        }\n        var x = xScale.range()[0];\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        var historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: 'bar-chart-tick ' + historyTickClass, x: x, y: y, dx: alignTicks ? 0 : '-1em', dy: \"0.3em\" }, tick);\n    };\n    Histogram.prototype.renderBars = function (xScale, yScale) {\n        var _this = this;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", null, this.props.bars.map(function (d, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { key: index }, _this.renderBar(d, index, xScale, yScale), _this.renderValue(d, index, xScale, yScale), _this.renderTick(index, xScale, yScale));\n        }));\n    };\n    Histogram.prototype.render = function () {\n        var _a = this.props,\n            bars = _a.bars,\n            width = _a.width,\n            height = _a.height,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var xScale = Object(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleLinear\"])().domain([0, Object(__WEBPACK_IMPORTED_MODULE_1_d3_array__[\"max\"])(bars)]).range([0, availableWidth]);\n        var availableHeight = height - padding[0] - padding[2];\n        var yScale = Object(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleBand\"])().domain(bars.map(function (_, index) {\n            return index;\n        })).rangeRound([0, availableHeight]);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { className: \"bar-chart\", width: this.props.width, height: this.props.height }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { transform: \"translate(\" + (this.props.alignTicks ? 4 : padding[3]) + \", \" + padding[0] + \")\" }, this.renderBars(xScale, yScale)));\n    };\n    return Histogram;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Histogram);\n\n/***/ }),\n\n/***/ 1949:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3_array__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d3_scale__ = __webpack_require__(579);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d3_shape__ = __webpack_require__(220);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_theme__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_theme___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__app_theme__);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div', null);\n\nvar AdvancedTimeline = function (_React$PureComponent) {\n  _inherits(AdvancedTimeline, _React$PureComponent);\n\n  function AdvancedTimeline(props /*: Props */) {\n    _classCallCheck(this, AdvancedTimeline);\n\n    var _this = _possibleConstructorReturn(this, (AdvancedTimeline.__proto__ || Object.getPrototypeOf(AdvancedTimeline)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var scales = _this.getScales(props);\n    var selectedDatePos = _this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    _this.state = Object.assign({}, scales, selectedDatePos);\n    _this.updateTooltipPos = Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.updateTooltipPos, 40);\n    _this.handleZoomUpdate = Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.handleZoomUpdate, 40);\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(AdvancedTimeline, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      var scales = void 0;\n      var selectedDatePos = void 0;\n      if (nextProps.metricType !== this.props.metricType || nextProps.startDate !== this.props.startDate || nextProps.endDate !== this.props.endDate || nextProps.width !== this.props.width || nextProps.padding !== this.props.padding || nextProps.height !== this.props.height || nextProps.series !== this.props.series) {\n        scales = this.getScales(nextProps);\n        if (this.state.selectedDate != null) {\n          selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n        }\n      }\n\n      if (!Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"isEqual\"])(nextProps.selectedDate, this.props.selectedDate)) {\n        var xScale = scales ? scales.xScale : this.state.xScale;\n        selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n      }\n\n      if (scales || selectedDatePos) {\n        this.setState(Object.assign({}, scales || {}, selectedDatePos || {}));\n\n        if (selectedDatePos && nextProps.updateTooltip) {\n          nextProps.updateTooltip(selectedDatePos.selectedDate, selectedDatePos.selectedDateXPos, selectedDatePos.selectedDateIdx);\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.width || !this.props.height) {\n        return _ref;\n      }\n      var zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n      var isZoomed = this.props.startDate || this.props.endDate;\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'svg',\n        {\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart', { 'chart-zoomed': isZoomed }),\n          width: this.props.width,\n          height: this.props.height },\n        zoomEnabled && this.renderClipPath(),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { transform: 'translate(' + this.props.padding[3] + ', ' + this.props.padding[0] + ')' },\n          this.props.leakPeriodDate != null && this.renderLeak(),\n          !this.props.hideGrid && this.renderHorizontalGrid(),\n          !this.props.hideXAxis && this.renderXAxisTicks(),\n          this.props.showAreas && this.renderAreas(),\n          this.renderLines(),\n          this.props.showEventMarkers && this.renderEvents(),\n          this.renderSelectedDate(),\n          this.renderMouseEventsOverlay(zoomEnabled)\n        )\n      );\n    }\n  }]);\n\n  return AdvancedTimeline;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nAdvancedTimeline.defaultProps = {\n  eventSize: 8,\n  maxYTicksCount: 4,\n  padding: [10, 10, 30, 60],\n  zoomSpeed: 1\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.getRatingScale = function (availableHeight /*: number */) {\n    return Object(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain([5, 4, 3, 2, 1]).range([availableHeight, 0]);\n  };\n\n  this.getLevelScale = function (availableHeight /*: number */) {\n    return Object(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain(['ERROR', 'WARN', 'OK']).range([availableHeight, 0]);\n  };\n\n  this.getYScale = function (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) {\n    if (props.metricType === 'RATING') {\n      return _this2.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return _this2.getLevelScale(availableHeight);\n    } else {\n      return Object(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleLinear\"])().range([availableHeight, 0]).domain([0, Object(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"max\"])(flatData, function (d) {\n        return d.y;\n      }) || 1]).nice();\n    }\n  };\n\n  this.getXScale = function (_ref2 /*: Props */\n  , availableWidth /*: number */\n  , flatData /*: Array<Point> */\n  ) {\n    var startDate = _ref2.startDate,\n        endDate = _ref2.endDate;\n\n    var dateRange = Object(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"extent\"])(flatData, function (d) {\n      return d.x;\n    });\n    var start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    var end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    var xScale = Object(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleTime\"])().domain(Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"sortBy\"])([start, end])).range([0, availableWidth]).clamp(false);\n    return {\n      xScale: xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  this.getScales = function (props /*: Props */) {\n    var availableWidth = props.width - props.padding[1] - props.padding[3];\n    var availableHeight = props.height - props.padding[0] - props.padding[2];\n    var flatData = Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"flatten\"])(props.series.map(function (serie /*: Serie */) {\n      return serie.data;\n    }));\n    return Object.assign({}, _this2.getXScale(props, availableWidth, flatData), {\n      yScale: _this2.getYScale(props, availableHeight, flatData)\n    });\n  };\n\n  this.getSelectedDatePos = function (xScale /*: Scale */, selectedDate /*: ?Date */) {\n    var firstSerie = _this2.props.series[0];\n    if (selectedDate && firstSerie) {\n      var idx = firstSerie.data.findIndex(\n      // $FlowFixMe selectedDate can't be null there\n      function (p) {\n        return p.x.valueOf() === selectedDate.valueOf();\n      });\n      var xRange = xScale.range().sort();\n      var xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate: selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  this.getEventMarker = function (size /*: number */) {\n    var half = size / 2;\n    return 'M' + half + ' 0 L' + size + ' ' + half + ' L ' + half + ' ' + size + ' L0 ' + half + ' L' + half + ' 0 L' + size + ' ' + half;\n  };\n\n  this.getMouseOverlayPos = function (target /*: HTMLElement */) {\n    if (_this2.state.mouseOverlayPos) {\n      return _this2.state.mouseOverlayPos;\n    }\n    var pos = target.getBoundingClientRect();\n    _this2.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  this.handleWheel = function (evt /*: WheelEvent & { target: HTMLElement } */) {\n    evt.preventDefault();\n    var _state = _this2.state,\n        maxXRange = _state.maxXRange,\n        xScale = _state.xScale;\n\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    var mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    var xRange = xScale.range();\n    var speed = evt.deltaMode ? 25 / evt.deltaMode * _this2.props.zoomSpeed : _this2.props.zoomSpeed;\n    var leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    var rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    var startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    var endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    _this2.handleZoomUpdate(startDate, endDate);\n  };\n\n  this.handleZoomUpdate = function (startDate /*: ?Date */, endDate /*: ?Date */) {\n    if (_this2.props.updateZoom) {\n      _this2.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  this.handleMouseMove = function (evt /*: MouseEvent & { target: HTMLElement } */) {\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    _this2.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  this.handleMouseEnter = function () {\n    return _this2.setState({ mouseOver: true });\n  };\n\n  this.handleMouseOut = function (evt /*: Event & { relatedTarget: HTMLElement } */) {\n    var updateTooltip = _this2.props.updateTooltip;\n\n    var targetClass = evt.relatedTarget && typeof evt.relatedTarget.className === 'string' ? evt.relatedTarget.className : '';\n    if (!updateTooltip || targetClass.includes('bubble-popup') || targetClass.includes('graph-tooltip')) {\n      return;\n    }\n    _this2.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  this.handleClick = function () {\n    var updateSelectedDate = _this2.props.updateSelectedDate;\n\n    if (updateSelectedDate) {\n      updateSelectedDate(_this2.state.selectedDate);\n    }\n  };\n\n  this.updateTooltipPos = function (xPos /*: number */) {\n    var firstSerie = _this2.props.series[0];\n    if (_this2.state.mouseOver && firstSerie) {\n      var updateTooltip = _this2.props.updateTooltip;\n\n      var date = _this2.state.xScale.invert(xPos);\n      var bisectX = Object(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"bisector\"])(function (d) {\n        return d.x;\n      }).right;\n      var idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        var previousPoint = firstSerie.data[idx - 1];\n        var nextPoint = firstSerie.data[idx];\n        if (!nextPoint || previousPoint && date - previousPoint.x <= nextPoint.x - date) {\n          idx--;\n        }\n        var selectedDate = firstSerie.data[idx].x;\n        var _xPos = _this2.state.xScale(selectedDate);\n        _this2.setState({ selectedDate: selectedDate, selectedDateXPos: _xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, _xPos, idx);\n        }\n      }\n    }\n  };\n\n  this.renderHorizontalGrid = function () {\n    var formatYTick = _this2.props.formatYTick;\n    var _state2 = _this2.state,\n        xScale = _state2.xScale,\n        yScale = _state2.yScale;\n\n    var hasTicks = typeof yScale.ticks === 'function';\n    var ticks = hasTicks ? yScale.ticks(_this2.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      var formattedTicks = ticks.map(function (tick) {\n        return formatYTick(tick);\n      });\n      if (ticks.length > Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"uniq\"])(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.map(function (tick) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { key: tick },\n          formatYTick != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'text',\n            {\n              className: 'line-chart-tick line-chart-tick-x',\n              dx: '-1em',\n              dy: '0.3em',\n              textAnchor: 'end',\n              x: xScale.range()[0],\n              y: yScale(tick) },\n            formatYTick(tick)\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n            className: 'line-chart-grid',\n            x1: xScale.range()[0],\n            x2: xScale.range()[1],\n            y1: yScale(tick),\n            y2: yScale(tick)\n          })\n        );\n      })\n    );\n  };\n\n  this.renderXAxisTicks = function () {\n    var _state3 = _this2.state,\n        xScale = _state3.xScale,\n        yScale = _state3.yScale;\n\n    var format = xScale.tickFormat(7);\n    var ticks = xScale.ticks(7);\n    var y = yScale.range()[0];\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.slice(0, -1).map(function (tick, index) {\n        var nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n        var x = (xScale(tick) + xScale(nextTick)) / 2;\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'text',\n          { key: index, className: 'line-chart-tick', x: x, y: y, dy: '1.5em' },\n          format(tick)\n        );\n      })\n    );\n  };\n\n  this.renderLeak = function () {\n    var yRange = _this2.state.yScale.range();\n    var xRange = _this2.state.xScale.range();\n    var leakWidth = xRange[xRange.length - 1] - _this2.state.xScale(_this2.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n      className: 'leak-chart-rect',\n      x: _this2.state.xScale(_this2.props.leakPeriodDate),\n      y: yRange[yRange.length - 1],\n      width: leakWidth,\n      height: yRange[0] - yRange[yRange.length - 1],\n      fill: __WEBPACK_IMPORTED_MODULE_6__app_theme__[\"leakColor\"]\n    });\n  };\n\n  this.renderLines = function () {\n    var lineGenerator = Object(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"line\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y(function (d) {\n      return _this2.state.yScale(d.y);\n    });\n    if (_this2.props.basisCurve) {\n      lineGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-path', 'line-chart-path-' + idx),\n          d: lineGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderAreas = function () {\n    var areaGenerator = Object(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"area\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y1(function (d) {\n      return _this2.state.yScale(d.y);\n    }).y0(_this2.state.yScale(0));\n    if (_this2.props.basisCurve) {\n      areaGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-area', 'line-chart-area-' + idx),\n          d: areaGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderEvents = function () {\n    var _props = _this2.props,\n        events = _props.events,\n        eventSize = _props.eventSize;\n\n    if (!events || !eventSize) {\n      return null;\n    }\n    var _state4 = _this2.state,\n        xScale = _state4.xScale,\n        yScale = _state4.yScale;\n\n    var inRangeEvents = events.filter(function (event) {\n      return event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1];\n    });\n    var offset = eventSize / 2;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      inRangeEvents.map(function (event, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          d: _this2.getEventMarker(eventSize),\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-event', event.className),\n          key: idx + '-' + event.date.getTime(),\n          transform: 'translate(' + (xScale(event.date) - offset) + ', ' + (yScale.range()[0] + offset) + ')'\n        });\n      })\n    );\n  };\n\n  this.renderSelectedDate = function () {\n    var _state5 = _this2.state,\n        selectedDateIdx = _state5.selectedDateIdx,\n        selectedDateXPos = _state5.selectedDateXPos,\n        yScale = _state5.yScale;\n\n    var firstSerie = _this2.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n        className: 'line-tooltip',\n        x1: selectedDateXPos,\n        x2: selectedDateXPos,\n        y1: yScale.range()[0],\n        y2: yScale.range()[1]\n      }),\n      _this2.props.series.map(function (serie, idx) {\n        var point = serie.data[selectedDateIdx];\n        if (!point || !point.y && point.y !== 0) {\n          return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('circle', {\n          key: serie.name,\n          cx: selectedDateXPos,\n          cy: yScale(point.y),\n          r: '4',\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-dot', 'line-chart-dot-' + idx)\n        });\n      })\n    );\n  };\n\n  this.renderClipPath = function () {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'defs',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'clipPath',\n        { id: 'chart-clip' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n          width: _this2.state.xScale.range()[1],\n          height: _this2.state.yScale.range()[0] + 10,\n          transform: 'translate(0,-5)'\n        })\n      )\n    );\n  };\n\n  this.renderMouseEventsOverlay = function (zoomEnabled /*: boolean */) {\n    var mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = _this2.handleWheel;\n    }\n    if (_this2.props.updateTooltip) {\n      mouseEvents.onMouseEnter = _this2.handleMouseEnter;\n      mouseEvents.onMouseMove = _this2.handleMouseMove;\n      mouseEvents.onMouseOut = _this2.handleMouseOut;\n    }\n    if (_this2.props.updateSelectedDate) {\n      mouseEvents.onClick = _this2.handleClick;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', _extends({\n      className: 'chart-mouse-events-overlay',\n      width: _this2.state.xScale.range()[1],\n      height: _this2.state.yScale.range()[0]\n    }, mouseEvents));\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AdvancedTimeline);\n\n/***/ }),\n\n/***/ 1950:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getTimeMachineData */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getAllTimeMachineData;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(14);\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nfunction getTimeMachineData(component, metrics, other) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/measures/search_history', __assign({ component: component, metrics: metrics.join(), ps: 1000 }, other));\n}\nfunction getAllTimeMachineData(component, metrics, other, prev) {\n    return getTimeMachineData(component, metrics, __assign({}, other, { ps: 1000 })).then(function (r) {\n        var result = prev ? {\n            measures: prev.measures.map(function (measure, idx) {\n                return __assign({}, measure, { history: measure.history.concat(r.measures[idx].history) });\n            }),\n            paging: r.paging\n        } : r;\n        if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n            return result;\n        }\n        return getAllTimeMachineData(component, metrics, __assign({}, other, { p: result.paging.pageIndex + 1 }), result);\n    });\n}\n\n/***/ }),\n\n/***/ 1967:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = RatingFreshness;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_intl__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__ = __webpack_require__(216);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(1907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\nfunction RatingFreshness(_a) {\n    var lastChange = _a.lastChange;\n    if (!lastChange) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, '\\xA0');\n    }\n    var data = JSON.parse(lastChange);\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_intl__[\"b\" /* FormattedMessage */], { defaultMessage: Object(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('portfolio.was_x_y'), id: \"portfolio.was_x_y\", values: {\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: data.value, small: true }),\n            date: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__[\"a\" /* default */], { date: data.date })\n        } }));\n}\n\n/***/ }),\n\n/***/ 1989:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__ = __webpack_require__(1917);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__ = __webpack_require__(1949);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__ = __webpack_require__(1990);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__ = __webpack_require__(1913);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(328);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_measures__ = __webpack_require__(44);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\n\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nvar GRAPH_PADDING = [4, 0, 4, 0];\nvar MAX_GRAPH_NB = 1;\nvar MAX_SERIES_PER_GRAPH = 3;\n\nvar PreviewGraph = function (_React$PureComponent) {\n  _inherits(PreviewGraph, _React$PureComponent);\n\n  function PreviewGraph(props /*: Props */) {\n    _classCallCheck(this, PreviewGraph);\n\n    var _this = _possibleConstructorReturn(this, (PreviewGraph.__proto__ || Object.getPrototypeOf(PreviewGraph)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var graph = Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getGraph */])();\n    var customMetrics = Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getCustomGraph */])();\n    var series = Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"v\" /* splitSeriesInGraphs */])(_this.getSeries(props.history, graph, customMetrics, props.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n    _this.state = {\n      customMetrics: customMetrics,\n      graph: graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(PreviewGraph, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n        var graph = Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getGraph */])();\n        var customMetrics = Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getCustomGraph */])();\n        var series = Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"v\" /* splitSeriesInGraphs */])(this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n        this.setState({\n          customMetrics: customMetrics,\n          graph: graph,\n          series: series.length > 0 ? series[0] : []\n        });\n      }\n    }\n  }, {\n    key: 'renderTimeline',\n    value: function renderTimeline() {\n      var _this2 = this;\n\n      var _state = this.state,\n          graph = _state.graph,\n          selectedDate = _state.selectedDate,\n          series = _state.series,\n          tooltipIdx = _state.tooltipIdx,\n          tooltipXPos = _state.tooltipXPos;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default.a,\n        { disableHeight: true },\n        function (_ref) {\n          var width = _ref.width;\n          return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__[\"a\" /* default */], {\n              endDate: null,\n              startDate: null,\n              height: 80,\n              width: width,\n              hideGrid: true,\n              hideXAxis: true,\n              interpolate: 'linear',\n              metricType: Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(series),\n              padding: GRAPH_PADDING,\n              series: series,\n              showAreas: ['coverage', 'duplications'].includes(graph),\n              updateTooltip: _this2.updateTooltip\n            }),\n            selectedDate != null && tooltipXPos != null && tooltipIdx != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__[\"a\" /* default */], {\n              formatValue: _this2.formatValue,\n              graph: graph,\n              graphWidth: width,\n              metrics: _this2.props.metrics,\n              selectedDate: selectedDate,\n              series: series,\n              tooltipIdx: tooltipIdx,\n              tooltipPos: tooltipXPos\n            })\n          );\n        }\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var series = this.state.series;\n\n      if (!Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"o\" /* hasHistoryDataValue */])(series)) {\n        return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        {\n          className: 'overview-analysis-graph big-spacer-bottom spacer-top',\n          onClick: this.handleClick,\n          tabIndex: 0,\n          role: 'link' },\n        this.renderTimeline()\n      );\n    }\n  }]);\n\n  return PreviewGraph;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nPreviewGraph.contextTypes = {\n  router: __WEBPACK_IMPORTED_MODULE_2_prop_types__[\"object\"]\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.formatValue = function (tick /*: number | string */) {\n    return Object(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"formatMeasure\"])(tick, Object(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"getShortType\"])(Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(_this3.state.series)));\n  };\n\n  this.getDisplayedMetrics = function (graph /*: string */, customMetrics /*: Array<string> */) {\n    var metrics /*: Array<string> */ = Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* getDisplayedHistoryMetrics */])(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"b\" /* DEFAULT_GRAPH */], customMetrics);\n    }\n    return metrics;\n  };\n\n  this.getSeries = function (history /*: ?History */\n  , graph /*: string */\n  , customMetrics /*: Array<string> */\n  , metrics /*: Array<Metric> */\n  ) {\n    var myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    var displayedMetrics = _this3.getDisplayedMetrics(graph, customMetrics);\n    var firstValid = Object(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"minBy\"])(displayedMetrics.map(function (metric) {\n      return myHistory[metric].find(function (p) {\n        return p.value || p.value === 0;\n      });\n    }), 'date');\n    var measureHistory = displayedMetrics.map(function (metric) {\n      return {\n        metric: metric,\n        history: firstValid ? myHistory[metric].filter(function (p) {\n          return p.date >= firstValid.date;\n        }) : myHistory[metric]\n      };\n    });\n    return Object(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"h\" /* generateSeries */])(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  this.handleClick = function () {\n    _this3.context.router.push({\n      pathname: '/project/activity',\n      query: { id: _this3.props.project, branch: _this3.props.branch }\n    });\n  };\n\n  this.updateTooltip = function (selectedDate /*: ?Date */\n  , tooltipXPos /*: ?number */\n  , tooltipIdx /*: ?number */\n  ) {\n    return _this3.setState({ selectedDate: selectedDate, tooltipXPos: tooltipXPos, tooltipIdx: tooltipIdx });\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraph);\n\n/***/ }),\n\n/***/ 1990:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__ = __webpack_require__(324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__ = __webpack_require__(1991);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nvar TOOLTIP_WIDTH = 160;\n\nvar PreviewGraphTooltips = function (_React$PureComponent) {\n  _inherits(PreviewGraphTooltips, _React$PureComponent);\n\n  function PreviewGraphTooltips() {\n    _classCallCheck(this, PreviewGraphTooltips);\n\n    return _possibleConstructorReturn(this, (PreviewGraphTooltips.__proto__ || Object.getPrototypeOf(PreviewGraphTooltips)).apply(this, arguments));\n  }\n\n  _createClass(PreviewGraphTooltips, [{\n    key: 'render',\n\n    /*:: props: Props; */\n\n    value: function render() {\n      var _this2 = this;\n\n      var tooltipIdx = this.props.tooltipIdx;\n\n      var top = 16;\n      var left = this.props.tooltipPos;\n      var customClass = void 0;\n      if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n        left -= TOOLTIP_WIDTH;\n        customClass = 'bubble-popup-right';\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__[\"a\" /* default */],\n        { customClass: customClass, position: { top: top, left: left, width: TOOLTIP_WIDTH } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'overview-analysis-graph-tooltip' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'overview-analysis-graph-tooltip-title' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__[\"a\" /* default */], { date: this.props.selectedDate, long: true })\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'table',\n            { className: 'width-100' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tbody',\n              null,\n              this.props.series.map(function (serie, idx) {\n                var point = serie.data[tooltipIdx];\n                if (!point || !point.y && point.y !== 0) {\n                  return null;\n                }\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__[\"a\" /* default */], {\n                  key: serie.name,\n                  style: idx.toString(),\n                  translatedName: serie.translatedName,\n                  value: _this2.props.formatValue(point.y)\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PreviewGraphTooltips;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraphTooltips);\n\n/***/ }),\n\n/***/ 1991:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PreviewGraphTooltipsContent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__ = __webpack_require__(586);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nfunction PreviewGraphTooltipsContent(_ref /*: Props */) {\n  var style = _ref.style,\n      translatedName = _ref.translatedName,\n      value = _ref.value;\n\n  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'tr',\n    { className: 'overview-analysis-graph-tooltip-line' },\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'thin' },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__[\"a\" /* default */], {\n        className: 'little-spacer-right line-chart-legend line-chart-legend-' + style\n      })\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'overview-analysis-graph-tooltip-value text-right little-spacer-right thin' },\n      value\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'text-ellipsis overview-analysis-graph-tooltip-description' },\n      translatedName\n    )\n  );\n}\n\n/***/ }),\n\n/***/ 1998:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Effort;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_intl__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(1907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(1912);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\nfunction Effort(_a) {\n    var component = _a.component,\n        effort = _a.effort,\n        metricKey = _a.metricKey;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_react_intl__[\"b\" /* FormattedMessage */], { defaultMessage: Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('portfolio.x_in_y'), id: \"portfolio.x_in_y\", values: {\n            projects: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component, metricKey) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: {\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                } }), ' ', Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('projects_'))),\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { small: true, value: effort.rating })\n        } }));\n}\n\n/***/ }),\n\n/***/ 1999:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MeasuresButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__ = __webpack_require__(585);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction MeasuresButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small spacer-left text-text-bottom\", to: Object(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__[\"a\" /* default */], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2000:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HistoryButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__ = __webpack_require__(345);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction HistoryButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small spacer-left text-text-bottom\", to: Object(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"k\" /* getMeasureHistoryUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__[\"HistoryIcon\"], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2001:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MainRating;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__ = __webpack_require__(1907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nfunction MainRating(_a) {\n  var component = _a.component,\n      metric = _a.metric,\n      value = _a.value;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"l\" /* getMeasureTreemapUrl */])(component, metric), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__[\"a\" /* default */], { value: value }));\n}\n\n/***/ }),\n\n/***/ 2040:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getReportStatus;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getReportUrl;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = subscribe;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = unsubscribe;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__ = __webpack_require__(31);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n* SonarQube\n* Copyright (C) 2009-2016 SonarSource SA\n* mailto:contact AT sonarsource DOT com\n*\n* This program is free software; you can redistribute it and/or\n* modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\nfunction getReportStatus(component) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/governance_reports/status', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction getReportUrl(component) {\n    return window.baseUrl + '/api/governance_reports/download?componentKey=' + encodeURIComponent(component);\n}\nfunction subscribe(component) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/subscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction unsubscribe(component) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/unsubscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\n\n/***/ }),\n\n/***/ 2398:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Summary;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__ = __webpack_require__(1941);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(1912);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\nfunction Summary(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var projects = measures['projects'];\n    var ncloc = measures['ncloc'];\n    var nclocDistribution = measures['ncloc_language_distribution'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"section\", { id: \"portfolio-summary\", className: \"big-spacer-bottom\" }, component.description && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, component.description), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"ul\", { className: \"portfolio-grid\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component.key, 'projects') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: projects } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, Object(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('projects'))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component.key, 'ncloc') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, Object(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), nclocDistribution && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__[\"a\" /* default */], { distribution: nclocDistribution, width: 260 })));\n}\n\n/***/ }),\n\n/***/ 2399:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__ = __webpack_require__(2400);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_report__ = __webpack_require__(2040);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\nvar Report = /** @class */function (_super) {\n    __extends(Report, _super);\n    function Report() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.renderHeader = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.page'));\n        };\n        return _this;\n    }\n    Report.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.loadStatus();\n    };\n    Report.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Report.prototype.loadStatus = function () {\n        var _this = this;\n        Object(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"a\" /* getReportStatus */])(this.props.component.key).then(function (status) {\n            if (_this.mounted) {\n                _this.setState({ status: status, loading: false });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    Report.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            status = _a.status,\n            loading = _a.loading;\n        if (loading) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }));\n        }\n        if (!status) {\n            return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), !status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note js-report-cant-download\" }, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.cant_download')), status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-report-can-download\" }, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.can_download'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"a\", { className: \"button js-report-download\", href: Object(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"b\" /* getReportUrl */])(component.key), target: \"_blank\", download: component.name + ' - Executive Report.pdf' }, Object(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.print')))), status.canSubscribe && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__[\"a\" /* default */], { component: component.key, status: status }));\n    };\n    return Report;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Report);\n\n/***/ }),\n\n/***/ 2400:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Subscription__ = __webpack_require__(2401);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_rootReducer__ = __webpack_require__(10);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: Object(__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__[\"getCurrentUser\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_1__Subscription__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 2401:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_report__ = __webpack_require__(2040);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_l10n__ = __webpack_require__(2);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\nvar Subscription = /** @class */function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(props) {\n        var _this = _super.call(this, props) || this;\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleSubscription = function (subscribed) {\n            if (_this.mounted) {\n                _this.setState({ loading: false, subscribed: subscribed });\n            }\n        };\n        _this.handleSubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            Object(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"c\" /* subscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(true);\n            }).catch(_this.stopLoading);\n        };\n        _this.handleUnsubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            Object(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"d\" /* unsubscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(false);\n            }).catch(_this.stopLoading);\n        };\n        _this.getEffectiveFrequencyText = function () {\n            var effectiveFrequency = _this.props.status.componentFrequency || _this.props.status.globalFrequency;\n            return Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.frequency', effectiveFrequency, 'effective');\n        };\n        _this.renderLoading = function () {\n            return _this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spacer-left spinner\" });\n        };\n        _this.renderWhenSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"icon-check pull-left spacer-right\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"overflow-hidden\" }, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.subscribed', _this.getEffectiveFrequencyText()))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { onClick: _this.handleUnsubscribe }, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.unsubscribe')), _this.renderLoading());\n        };\n        _this.renderWhenNotSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-not-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"spacer-bottom\" }, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.unsubscribed', _this.getEffectiveFrequencyText())), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { className: \"js-report-subscribe\", onClick: _this.handleSubscribe }, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.subscribe')), _this.renderLoading());\n        };\n        _this.state = { subscribed: props.status.subscribed, loading: false };\n        return _this;\n    }\n    Subscription.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    Subscription.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.status.subscribed !== this.props.status.subscribed) {\n            this.setState({ subscribed: nextProps.status.subscribed });\n        }\n    };\n    Subscription.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Subscription.prototype.render = function () {\n        var hasEmail = !!this.props.currentUser.email;\n        var subscribed = this.state.subscribed;\n        var inner;\n        if (hasEmail) {\n            inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n        } else {\n            inner = __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"note js-no-email\" }, Object(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.no_email_to_subscribe'));\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top js-report-subscription\" }, inner);\n    };\n    return Subscription;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Subscription);\n\n/***/ }),\n\n/***/ 2402:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = WorstProjects;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(1912);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_measures__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\nfunction WorstProjects(_a) {\n    var component = _a.component,\n        subComponents = _a.subComponents,\n        total = _a.total;\n    var count = subComponents.length;\n    if (!count) {\n        return null;\n    }\n    var maxLoc = Object(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"max\"])(subComponents.map(function (component) {\n        return Number(component.measures['ncloc'] || 0);\n    }));\n    var projectsPageUrl = { pathname: '/code', query: { id: component } };\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"panel panel-white portfolio-sub-components\", id: \"portfolio-sub-components\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"table\", { className: \"data zebra\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"thead\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", null, '\\xA0'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Reliability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Security')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Maintainability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tbody\", null, subComponents.map(function (component) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", { key: component.key }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_7__helpers_urls__[\"o\" /* getProjectUrl */])(component.refKey || component.key), className: \"link-with-icon\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__[\"a\" /* default */], { qualifier: component.qualifier }), \" \", component.name)), component.qualifier === 'TRK' ? renderCell(component.measures, 'alert_status', 'LEVEL') : renderCell(component.measures, 'releasability_rating', 'RATING'), renderCell(component.measures, 'reliability_rating', 'RATING'), renderCell(component.measures, 'security_rating', 'RATING'), renderCell(component.measures, 'sqale_rating', 'RATING'), renderNcloc(component.measures, maxLoc));\n    }))), total > count && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"footer\", { className: \"spacer-top note text-center\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translateWithParameters\"])('x_of_y_shown', Object(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(count, 'INT'), Object(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(total, 'INT')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: projectsPageUrl, className: \"spacer-left\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('show_more'))));\n}\nfunction renderCell(measures, metric, type) {\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: metric, type: type }, value: measures[metric] } }));\n}\nfunction renderNcloc(measures, maxLoc) {\n    var ncloc = Number(measures['ncloc'] || 0);\n    var barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-right\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"note\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: {\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n        } })), maxLoc > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { width: \"50\", height: \"16\", className: \"spacer-left\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: \"0\", y: \"3\", width: barWidth, height: \"10\" })));\n}\n\n/***/ }),\n\n/***/ 2403:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReleasabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__RatingFreshness__ = __webpack_require__(1967);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(1907);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(1912);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(26);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\nfunction ReleasabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['releasability_rating'];\n    var lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n    var effort = measures['releasability_effort'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-releasability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component, 'alert_status'), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: rating })), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__[\"a\" /* default */], { lastChange: lastReleasabilityChange }), effort && Number(effort) > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: Object(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"d\" /* getComponentDrilldownUrl */])(component, 'alert_status') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: effort } }), ' ', Number(effort) === 1 ? 'project' : 'projects')), ' ', __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"level level-ERROR level-small\" }, Object(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.level.ERROR'))));\n}\n\n/***/ }),\n\n/***/ 2404:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReliabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(1998);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(1999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__MainRating__ = __webpack_require__(2001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(1967);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\nfunction ReliabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['reliability_rating'];\n    var lastReliabilityChange = measures['last_change_on_reliability_rating'];\n    var rawEffort = measures['reliability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-reliability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, Object(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Reliability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Reliability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"reliability_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__MainRating__[\"a\" /* default */], { component: component, metric: \"reliability_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastReliabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"reliability_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2405:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SecurityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(1998);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(1999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RatingFreshness__ = __webpack_require__(1967);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__MainRating__ = __webpack_require__(2001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\nfunction SecurityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['security_rating'];\n    var lastSecurityChange = measures['last_change_on_security_rating'];\n    var rawEffort = measures['security_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-security\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, Object(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Security'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Security\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"security_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__MainRating__[\"a\" /* default */], { component: component, metric: \"security_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__[\"a\" /* default */], { lastChange: lastSecurityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"security_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2406:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MaintainabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(1998);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MainRating__ = __webpack_require__(2001);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__ = __webpack_require__(1999);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__ = __webpack_require__(2000);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(1967);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\nfunction MaintainabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['sqale_rating'];\n    var lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n    var rawEffort = measures['maintainability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-maintainability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, Object(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Maintainability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Maintainability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"sqale_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MainRating__[\"a\" /* default */], { component: component, metric: 'sqale_rating', value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastMaintainabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: 'sqale_rating' }));\n}\n\n/***/ }),\n\n/***/ 2407:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__ = __webpack_require__(1913);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__ = __webpack_require__(1989);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_metrics__ = __webpack_require__(334);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_time_machine__ = __webpack_require__(1950);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_dates__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(328);\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\nvar AnyPreviewGraph = __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__[\"a\" /* default */];\nvar Activity = /** @class */function (_super) {\n    __extends(Activity, _super);\n    function Activity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.fetchHistory = function () {\n            var component = _this.props.component;\n            var graphMetrics = Object(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"j\" /* getDisplayedHistoryMetrics */])(Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getGraph */])(), Object(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getCustomGraph */])());\n            if (!graphMetrics || graphMetrics.length <= 0) {\n                graphMetrics = Object(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"j\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"b\" /* DEFAULT_GRAPH */], []);\n            }\n            _this.setState({ loading: true });\n            return Promise.all([Object(__WEBPACK_IMPORTED_MODULE_4__api_time_machine__[\"a\" /* getAllTimeMachineData */])(component, graphMetrics), Object(__WEBPACK_IMPORTED_MODULE_3__api_metrics__[\"a\" /* getAllMetrics */])()]).then(function (_a) {\n                var timeMachine = _a[0],\n                    metrics = _a[1];\n                if (_this.mounted) {\n                    var history_1 = {};\n                    timeMachine.measures.forEach(function (measure) {\n                        var measureHistory = measure.history.map(function (analysis) {\n                            return {\n                                date: Object(__WEBPACK_IMPORTED_MODULE_5__helpers_dates__[\"parseDate\"])(analysis.date),\n                                value: analysis.value\n                            };\n                        });\n                        history_1[measure.metric] = measureHistory;\n                    });\n                    _this.setState({ history: history_1, loading: false, metrics: metrics });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.renderWhenEmpty = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note\" }, Object(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('component_measures.no_history'));\n        };\n        return _this;\n    }\n    Activity.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.fetchHistory();\n    };\n    Activity.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchHistory();\n        }\n    };\n    Activity.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Activity.prototype.render = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, Object(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('project_activity.page')), this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : this.state.metrics !== undefined && this.state.history !== undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](AnyPreviewGraph, { history: this.state.history, metrics: this.state.metrics, project: this.props.component, renderWhenEmpty: this.renderWhenEmpty }));\n    };\n    return Activity;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Activity);\n\n/***/ }),\n\n/***/ 2408:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getNextRating */\n/* unused harmony export getEffortToNextRating */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PORTFOLIO_METRICS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SUB_COMPONENTS_METRICS; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = convertMeasures;\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nfunction getNextRating(rating) {\n    return rating > 1 ? rating - 1 : undefined;\n}\nfunction getWorstSeverity(data) {\n    var SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    var severities = {};\n    data.split(';').forEach(function (equality) {\n        var _a = equality.split('='),\n            key = _a[0],\n            count = _a[1];\n        severities[key] = Number(count);\n    });\n    for (var i = 0; i < SEVERITY_ORDER.length; i++) {\n        var count = severities[SEVERITY_ORDER[i]];\n        if (count > 0) {\n            return { severity: SEVERITY_ORDER[i], count: count };\n        }\n    }\n    return undefined;\n}\nfunction getEffortToNextRating(measures, metricKey) {\n    var measure = measures.find(function (measure) {\n        return measure.metric.key === metricKey;\n    });\n    if (!measure) {\n        return undefined;\n    }\n    return getWorstSeverity(measure.value);\n}\nvar PORTFOLIO_METRICS = ['projects', 'ncloc', 'ncloc_language_distribution', 'releasability_rating', 'releasability_effort', 'sqale_rating', 'maintainability_rating_effort', 'reliability_rating', 'reliability_rating_effort', 'security_rating', 'security_rating_effort', 'last_change_on_releasability_rating', 'last_change_on_maintainability_rating', 'last_change_on_security_rating', 'last_change_on_reliability_rating'];\nvar SUB_COMPONENTS_METRICS = ['ncloc', 'releasability_rating', 'security_rating', 'reliability_rating', 'sqale_rating', 'alert_status'];\nfunction convertMeasures(measures) {\n    var result = {};\n    measures.forEach(function (measure) {\n        result[measure.metric] = measure.value;\n    });\n    return result;\n}\n\n/***/ }),\n\n/***/ 2409:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2410);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1861)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 2410:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1860)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}\", \"\"]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/243.47eb6d68.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { SubComponent } from '../types';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\nimport '../styles.css';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures(this.props.component.key, PORTFOLIO_METRICS),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => this.state.measures === undefined || this.state.measures['ncloc'] === undefined;\n\n  isNotComputed = () =>\n    this.state.measures && this.state.measures['reliability_rating'] === undefined;\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.empty')}</h3>\n        <p>{translate('portfolio.empty.hint')}</p>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents !== undefined &&\n          totalSubComponents !== undefined && (\n            <WorstProjects\n              component={component.key}\n              subComponents={subComponents}\n              total={totalSubComponents}\n            />\n          )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            {!this.isEmpty() &&\n              !this.isNotComputed() && <Summary component={component} measures={measures!} />}\n            <Activity component={component.key} />\n            <Report component={component} />\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/ui/Rating.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltips from '../controls/Tooltip';\nimport { formatMeasure, isDiffMetric } from '../../helpers/measures';\nimport { formatLeak, getRatingTooltip, MeasureEnhanced } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  measure?: MeasureEnhanced;\n}\n\nexport default function Measure({ className, decimals, measure }: Props) {\n  if (measure === undefined) {\n    return <span>{''}</span>;\n  }\n\n  const metric = measure.metric;\n  const value = isDiffMetric(metric.key) ? measure.leak : measure.value;\n\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n\n  if (metric.type === 'LEVEL') {\n    return <Level className={className} level={value} />;\n  }\n\n  if (metric.type !== 'RATING') {\n    const formattedValue = isDiffMetric(metric.key)\n      ? formatLeak(measure.leak, metric.key, metric.type, { decimals })\n      : formatMeasure(measure.value, metric.type, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metric.key, Number(value));\n  const rating = <Rating value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltips overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltips>\n    );\n  }\n  return rating;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/measure/Measure.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nexport const GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const datesQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n\nexport const activityQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n\nexport const customMetricsChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n\nexport const hasDataValues = (serie /*: Serie */) =>\n  serie.data.some(point => point.y || point.y === 0);\n\nexport const hasHistoryData = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1);\n\nexport const hasHistoryDataValue = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n\nexport function historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */ {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport const isCustomGraph = (graph /*: string */) => graph === 'custom';\n\nexport const selectedDateQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n\nexport const generateCoveredLinesMetric = (\n  uncoveredLines /*: MeasureHistory */,\n  measuresHistory /*: Array<MeasureHistory> */\n) => {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nexport function generateSeries(\n  measuresHistory /*: Array<MeasureHistory> */,\n  graph /*: string */,\n  metrics /*: Array<Metric> */,\n  displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */ {\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = metrics.find(metric => metric.key === measure.metric);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport const splitSeriesInGraphs = (\n  series /*: Array<Serie> */,\n  maxGraph /*: number */,\n  maxSeries /*: number */\n) =>\n  flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(0, maxGraph);\n\nexport const getSeriesMetricType = (series /*: Array<Serie> */) =>\n  series.length > 0 ? series[0].type : 'INT';\n\nexport function getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport const getDisplayedHistoryMetrics = (\n  graph /*: string */,\n  customMetrics /*: Array<string> */\n) => (isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph]);\n\nexport const getHistoryMetrics = (graph /*: string */, customMetrics /*: Array<string> */) =>\n  isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n\nconst parseGraph = (value /*: ?string */) => {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nconst serializeGraph = (value /*: string */) => (value === DEFAULT_GRAPH ? undefined : value);\n\nexport function parseQuery(urlQuery /*: RawQuery */) /*: Query */ {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectActivity/utils.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  formatMeasure,\n  formatMeasureVariation,\n  getRatingTooltip as nextGetRatingTooltip,\n  isDiffMetric\n} from '../../helpers/measures';\nimport { Metric } from '../../app/types';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport interface MeasureIntern {\n  value?: string;\n  periods?: Array<{ index: number; value: string }>;\n}\n\nexport interface Measure extends MeasureIntern {\n  metric: string;\n}\n\nexport interface MeasureEnhanced extends MeasureIntern {\n  metric: { key: string; type: string };\n  leak?: string | undefined | undefined;\n}\n\nexport function enhanceMeasure(\n  measure: Measure,\n  metrics: { [key: string]: Metric }\n): MeasureEnhanced {\n  return {\n    value: measure.value,\n    periods: measure.periods,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function formatLeak(\n  value: string | undefined,\n  metricKey: string,\n  metricType: string,\n  options: any\n): string {\n  if (isDiffMetric(metricKey)) {\n    return formatMeasure(value, metricType, options);\n  } else {\n    return formatMeasureVariation(value, metricType, options);\n  }\n}\n\nexport function getLeakValue(measure: Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = measure.periods.find(period => period.index === 1);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/measure/utils.ts","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AutoSizer = require('./AutoSizer');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\nObject.defineProperty(exports, 'AutoSizer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-virtualized/dist/commonjs/AutoSizer/index.js\n// module id = 1917\n// module chunks = 238 239 240 242 243","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _detectElementResize = require('../vendor/detectElementResize');\n\nvar _detectElementResize2 = _interopRequireDefault(_detectElementResize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar babelPluginFlowReactPropTypes_proptype_Size = require('./types').babelPluginFlowReactPropTypes_proptype_Size || require('prop-types').any;\n\n/**\n * Decorator component that automatically adjusts the width and height of a single child.\n * Child component should not be declared as a child but should rather be specified by a `ChildComponent` property.\n * All other properties will be passed through to the child component.\n */\n\nvar AutoSizer = function (_React$PureComponent) {\n  _inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var height = _this._parentNode.offsetHeight || 0;\n        var width = _this._parentNode.offsetWidth || 0;\n\n        var style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n\n        var newHeight = height - paddingTop - paddingBottom;\n        var newWidth = width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: height - paddingTop - paddingBottom,\n            width: width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: height, width: width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode instanceof HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = (0, _detectElementResize2.default)(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n      return _react2.default.createElement(\n        'div',\n        { ref: this._setRef, style: outerStyle },\n        children(childParams)\n      );\n    }\n  }]);\n\n  return AutoSizer;\n}(_react2.default.PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false\n};\nAutoSizer.propTypes = {\n  children: require('prop-types').func.isRequired,\n  defaultHeight: require('prop-types').number,\n  defaultWidth: require('prop-types').number,\n  disableHeight: require('prop-types').bool.isRequired,\n  disableWidth: require('prop-types').bool.isRequired,\n  nonce: require('prop-types').string,\n  onResize: require('prop-types').func.isRequired\n};\nexports.default = AutoSizer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-virtualized/dist/commonjs/AutoSizer/AutoSizer.js\n// module id = 1919\n// module chunks = 238 239 240 242 243","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createDetectElementResize;\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = this;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles() {\n    if (!document.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = document.head || document.getElementsByTagName('head')[0],\n          style = document.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(document.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles();\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = document.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-virtualized/dist/commonjs/vendor/detectElementResize.js\n// module id = 1920\n// module chunks = 238 239 240 242 243","\"use strict\";\n\nif (typeof exports !== \"undefined\") Object.defineProperty(exports, \"babelPluginFlowReactPropTypes_proptype_Size\", {\n  value: {\n    height: require(\"prop-types\").number.isRequired,\n    width: require(\"prop-types\").number.isRequired\n  },\n  configurable: true\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/react-virtualized/dist/commonjs/AutoSizer/types.js\n// module id = 1921\n// module chunks = 238 239 240 242 243","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: any) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(LanguageDistribution);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistributionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { find, sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { Language } from '../../api/languages';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages?: Language[];\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n      width={props.width}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = find(props.languages, { key: langKey });\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistribution.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  wrapWithTooltip(element: React.ReactNode, index: number) {\n    const tooltip = this.props.yTooltips && this.props.yTooltips[index];\n    return tooltip ? (\n      <Tooltip key={index} overlay={tooltip} placement=\"top\">\n        {element}\n      </Tooltip>\n    ) : (\n      element\n    );\n  }\n\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" x={x} y={y} width={width} height={BAR_HEIGHT} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return this.wrapWithTooltip(\n      <text className=\"bar-chart-tick histogram-value\" x={x} y={y} dx=\"1em\" dy=\"0.3em\">\n        {value}\n      </text>,\n      index\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        x={x}\n        y={y}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\">\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/Histogram.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle, uniq } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\nimport * as theme from '../../app/theme';\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nexport default class AdvancedTimeline extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    eventSize: 8,\n    maxYTicksCount: 4,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      this.setState({ ...(scales || {}), ...(selectedDatePos || {}) });\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = (\n    { startDate, endDate } /*: Props */,\n    availableWidth /*: number */,\n    flatData /*: Array<Point> */\n  ) => {\n    const dateRange = extent(flatData, d => d.x);\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props /*: Props */) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale /*: Scale */, selectedDate /*: ?Date */) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(\n        // $FlowFixMe selectedDate can't be null there\n        p => p.x.valueOf() === selectedDate.valueOf()\n      );\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  getMouseOverlayPos = (target /*: HTMLElement */) => {\n    if (this.state.mouseOverlayPos) {\n      return this.state.mouseOverlayPos;\n    }\n    const pos = target.getBoundingClientRect();\n    this.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  handleWheel = (evt /*: WheelEvent & { target: HTMLElement } */) => {\n    evt.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    const mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = evt.deltaMode ? 25 / evt.deltaMode * this.props.zoomSpeed : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate /*: ?Date */, endDate /*: ?Date */) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (evt /*: MouseEvent & { target: HTMLElement } */) => {\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    this.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => this.setState({ mouseOver: true });\n\n  handleMouseOut = (evt /*: Event & { relatedTarget: HTMLElement } */) => {\n    const { updateTooltip } = this.props;\n    const targetClass =\n      evt.relatedTarget && typeof evt.relatedTarget.className === 'string'\n        ? evt.relatedTarget.className\n        : '';\n    if (\n      !updateTooltip ||\n      targetClass.includes('bubble-popup') ||\n      targetClass.includes('graph-tooltip')\n    ) {\n      return;\n    }\n    this.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate);\n    }\n  };\n\n  updateTooltipPos = (xPos /*: number */) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (!nextPoint || (previousPoint && date - previousPoint.x <= nextPoint.x - date)) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    let ticks = hasTicks ? yScale.ticks(this.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      const formattedTicks = ticks.map(tick => formatYTick(tick));\n      if (ticks.length > uniq(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"line-chart-tick\" x={x} y={y} dy=\"1.5em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const yRange = this.state.yScale.range();\n    const xRange = this.state.xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - this.state.xScale(this.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        x={this.state.xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={leakWidth}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill={theme.leakColor}\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderEvents = () => {\n    const { events, eventSize } = this.props;\n    if (!events || !eventSize) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const inRangeEvents = events.filter(\n      event => event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1]\n    );\n    const offset = eventSize / 2;\n    return (\n      <g>\n        {inRangeEvents.map((event, idx) => (\n          <path\n            d={this.getEventMarker(eventSize)}\n            className={classNames('line-chart-event', event.className)}\n            key={`${idx}-${event.date.getTime()}`}\n            transform={`translate(${xScale(event.date) - offset}, ${yScale.range()[0] + offset})`}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              key={serie.name}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              r=\"4\"\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            width={this.state.xScale.range()[1]}\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled /*: boolean */) => {\n    const mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        width={this.state.xScale.range()[1]}\n        height={this.state.yScale.range()[0]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = this.props.startDate || this.props.endDate;\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        width={this.props.width}\n        height={this.props.height}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.props.showEventMarkers && this.renderEvents()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/AdvancedTimeline.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\n\ninterface TimeMachineResponse {\n  measures: Array<{\n    metric: string;\n    history: Array<{ date: string; value: string }>;\n  }>;\n  paging: { pageIndex: number; pageSize: number; total: number };\n}\n\nexport function getTimeMachineData(\n  component: string,\n  metrics: string[],\n  other?: { p?: number; ps?: number; from?: string; to?: string }\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', {\n    component,\n    metrics: metrics.join(),\n    ps: 1000,\n    ...other\n  });\n}\n\nexport function getAllTimeMachineData(\n  component: string,\n  metrics: Array<string>,\n  other?: { p?: number; from?: string; to?: string },\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData(component, metrics, { ...other, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData(\n      component,\n      metrics,\n      { ...other, p: result.paging.pageIndex + 1 },\n      result\n    );\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/time-machine.ts","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n}\n\nexport default function RatingFreshness({ lastChange }: Props) {\n  if (!lastChange) {\n    return <div className=\"portfolio-freshness\">&nbsp;</div>;\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating value={data.value} small={true} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/RatingFreshness.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  splitSeriesInGraphs\n} from '../../apps/projectActivity/utils';\nimport { getCustomGraph, getGraph } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const graph = getGraph();\n    const customMetrics = getCustomGraph();\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const graph = getGraph();\n      const customMetrics = getCustomGraph();\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick /*: number | string */) =>\n    formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n\n  getDisplayedMetrics = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const metrics /*: Array<string> */ = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history /*: ?History */,\n    graph /*: string */,\n    customMetrics /*: Array<string> */,\n    metrics /*: Array<Metric> */\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value || p.value === 0)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, branch: this.props.branch }\n    });\n  };\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              endDate={null}\n              startDate={null}\n              height={80}\n              width={width}\n              hideGrid={true}\n              hideXAxis={true}\n              interpolate=\"linear\"\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n            />\n            {selectedDate != null &&\n              tooltipXPos != null &&\n              tooltipIdx != null && (\n                <PreviewGraphTooltips\n                  formatValue={this.formatValue}\n                  graph={graph}\n                  graphWidth={width}\n                  metrics={this.props.metrics}\n                  selectedDate={selectedDate}\n                  series={series}\n                  tooltipIdx={tooltipIdx}\n                  tooltipPos={tooltipXPos}\n                />\n              )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        tabIndex={0}\n        role=\"link\">\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraph.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport BubblePopup from '../common/BubblePopup';\nimport DateFormatter from '../intl/DateFormatter';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let customClass;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      customClass = 'bubble-popup-right';\n    }\n\n    return (\n      <BubblePopup customClass={customClass} position={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </BubblePopup>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltips.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value } /*: Props */) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n        {translatedName}\n      </td>\n    </tr>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl(component, metricKey)}>\n              <span>\n                <Measure\n                  measure={{\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                  }}\n                />{' '}\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Effort.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl(component, metric)}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { HistoryIcon } from '../../../components/icons-components/icons';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link to={getMeasureTreemapUrl(component, metric)} className=\"portfolio-box-rating\">\n      <Rating value={value} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MainRating.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n/*\n* SonarQube\n* Copyright (C) 2009-2016 SonarSource SA\n* mailto:contact AT sonarsource DOT com\n*\n* This program is free software; you can redistribute it and/or\n* modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/report.ts","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const projects = measures['projects'];\n  const ncloc = measures['ncloc'];\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section id=\"portfolio-summary\" className=\"big-spacer-bottom\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'projects')}>\n              <Measure\n                measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: projects }}\n              />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'ncloc')}>\n              <Measure measure={{ metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc }} />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Summary.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                href={getReportUrl(component.key)}\n                target=\"_blank\"\n                download={component.name + ' - Executive Report.pdf'}>\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Report.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Subscription);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  currentUser: { email?: string };\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted: boolean;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <i className=\"icon-check pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Subscription.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/shared/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  to={getProjectUrl(component.refKey || component.key)}\n                  className=\"link-with-icon\">\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK'\n                ? renderCell(component.measures, 'alert_status', 'LEVEL')\n                : renderCell(component.measures, 'releasability_rating', 'RATING')}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link to={projectsPageUrl} className=\"spacer-left\">\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure measure={{ metric: { key: metric, type }, value: measures[metric] }} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure\n          measure={{\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n          }}\n        />\n      </span>\n      {maxLoc > 0 && (\n        <svg width=\"50\" height=\"16\" className=\"spacer-left\">\n          <rect className=\"bar-chart-bar\" x=\"0\" y=\"3\" width={barWidth} height=\"10\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/WorstProjects.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          to={getComponentDrilldownUrl(component, 'alert_status')}\n          className=\"portfolio-box-rating\">\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} />\n\n      {effort &&\n        Number(effort) > 0 && (\n          <div className=\"portfolio-effort\">\n            <Link to={getComponentDrilldownUrl(component, 'alert_status')}>\n              <span>\n                <Measure\n                  measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: effort }}\n                />{' '}\n                {Number(effort) === 1 ? 'project' : 'projects'}\n              </span>\n            </Link>{' '}\n            <span className=\"level level-ERROR level-small\">{translate('metric.level.ERROR')}</span>\n          </div>\n        )}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SecurityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getDisplayedHistoryMetrics, DEFAULT_GRAPH } from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getAllMetrics } from '../../../api/metrics';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { getCustomGraph, getGraph } from '../../../helpers/storage';\n\nconst AnyPreviewGraph = PreviewGraph as any;\n\ninterface History {\n  [metric: string]: Array<{ date: Date; value: string }>;\n}\n\ninterface Props {\n  component: string;\n}\n\ninterface State {\n  history?: History;\n  loading: boolean;\n  metrics?: Metric[];\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    let graphMetrics = getDisplayedHistoryMetrics(getGraph(), getCustomGraph());\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return Promise.all([getAllTimeMachineData(component, graphMetrics), getAllMetrics()]).then(\n      ([timeMachine, metrics]) => {\n        if (this.mounted) {\n          const history: History = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false, metrics });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.metrics !== undefined &&\n          this.state.history !== undefined && (\n            <AnyPreviewGraph\n              history={this.state.history}\n              metrics={this.state.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Activity.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/utils.ts","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/js/apps/portfolio/styles.css\n// module id = 2409\n// module chunks = 243","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":{\"discardComments\":{\"removeAll\":true}},\"url\":false}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null,null]}!./src/main/js/apps/portfolio/styles.css\n// module id = 2410\n// module chunks = 243"],"sourceRoot":""}